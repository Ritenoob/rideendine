(()=>{var e={};e.id=857,e.ids=[857],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1700:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>o,routeModule:()=>u,tree:()=>l});var r=s(482),a=s(9108),d=s(2563),n=s.n(d),i=s(8300),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let l=["",{children:["dashboard",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,467)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/orders/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3096)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/orders/page.tsx"],p="/dashboard/orders/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/orders/page",pathname:"/dashboard/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4279:(e,t,s)=>{Promise.resolve().then(s.bind(s,5230))},2312:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9666:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]])},5545:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4513:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5230:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5344),a=s(3729),d=s(6548),n=s(3692),i=s(2312),c=s(4513),l=s(9666),o=s(5545);function p(){let[e,t]=(0,a.useState)([]),[s,p]=(0,a.useState)("pending"),[x,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await d.h.getOrders();t(e.data||[])}catch(e){console.error("Failed to fetch orders:",e)}finally{u(!1)}},h=async e=>{try{await d.h.acceptOrder(e,30),n.default.success("Order accepted!"),m()}catch(e){n.default.error(e.message||"Failed to accept order")}},g=async e=>{try{await d.h.rejectOrder(e,"Unable to fulfill at this time"),n.default.success("Order rejected"),m()}catch(e){n.default.error(e.message||"Failed to reject order")}},y=async e=>{try{await d.h.markOrderReady(e),n.default.success("Order marked as ready!"),m()}catch(e){n.default.error(e.message||"Failed to mark order ready")}},f=e=>`$${(e/100).toFixed(2)}`,b=e.filter(e=>{switch(s){case"pending":return"payment_confirmed"===e.status;case"active":return["accepted","preparing","ready_for_pickup"].includes(e.status);case"completed":return["delivered","cancelled","rejected"].includes(e.status);default:return!0}}),j=e=>({payment_confirmed:"bg-yellow-100 text-yellow-700",accepted:"bg-blue-100 text-blue-700",preparing:"bg-orange-100 text-orange-700",ready_for_pickup:"bg-green-100 text-green-700",delivered:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700",rejected:"bg-red-100 text-red-700"})[e]||"bg-gray-100 text-gray-700";return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-ink",children:"Orders"}),r.jsx("p",{className:"text-muted mt-1",children:"Manage incoming orders"})]}),r.jsx("div",{className:"flex gap-2",children:["pending","active","completed","all"].map(e=>r.jsx("button",{onClick:()=>p(e),className:`px-4 py-2 rounded-xl font-medium transition-colors ${s===e?"bg-primary-500 text-white":"bg-white text-muted hover:bg-gray-50"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),x?r.jsx("div",{className:"card text-center py-12 text-muted",children:"Loading orders..."}):0===b.length?(0,r.jsxs)("div",{className:"card text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCB"}),(0,r.jsxs)("p",{className:"text-muted",children:["No ",s," orders"]})]}):r.jsx("div",{className:"space-y-4",children:b.map(e=>(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("h3",{className:"font-bold text-ink",children:["Order #",e.id.slice(-6)]}),r.jsx("span",{className:`badge ${j(e.status)}`,children:e.status.replace(/_/g," ")})]}),r.jsx("p",{className:"text-sm text-muted mt-1",children:new Date(e.createdAt).toLocaleString()})]}),r.jsx("p",{className:"text-xl font-bold text-ink",children:f(e.total)})]}),r.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:e.items?.map((e,t)=>r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsxs("span",{className:"text-ink",children:[e.quantity,"x ",e.name]}),r.jsx("span",{className:"text-muted",children:f(e.price*e.quantity)})]},t))}),(0,r.jsxs)("p",{className:"text-sm text-muted mb-4",children:["\uD83D\uDCCD ",e.deliveryAddress?.street,", ",e.deliveryAddress?.city]}),"payment_confirmed"===e.status&&(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("button",{onClick:()=>h(e.id),className:"flex-1 btn-primary flex items-center justify-center gap-2",children:[r.jsx(i.Z,{size:18}),"Accept Order"]}),(0,r.jsxs)("button",{onClick:()=>g(e.id),className:"flex-1 bg-red-100 text-red-600 font-semibold py-3 px-6 rounded-xl hover:bg-red-200 transition-colors flex items-center justify-center gap-2",children:[r.jsx(c.Z,{size:18}),"Reject"]})]}),"accepted"===e.status&&(0,r.jsxs)("button",{onClick:()=>h(e.id),className:"w-full bg-orange-500 text-white font-semibold py-3 px-6 rounded-xl hover:bg-orange-600 transition-colors flex items-center justify-center gap-2",children:[r.jsx(l.Z,{size:18}),"Start Preparing"]}),"preparing"===e.status&&(0,r.jsxs)("button",{onClick:()=>y(e.id),className:"w-full bg-green-500 text-white font-semibold py-3 px-6 rounded-xl hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[r.jsx(i.Z,{size:18}),"Mark Ready for Pickup"]}),"ready_for_pickup"===e.status&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-600 py-3",children:[r.jsx(o.Z,{size:18}),r.jsx("span",{className:"font-medium",children:"Waiting for driver pickup"})]})]},e.id))})]})}},467:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>d,__esModule:()=>a,default:()=>n});let r=(0,s(6843).createProxy)(String.raw`/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/orders/page.tsx`),{__esModule:a,$$typeof:d}=r,n=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[261,321,717,967],()=>s(1700));module.exports=r})();