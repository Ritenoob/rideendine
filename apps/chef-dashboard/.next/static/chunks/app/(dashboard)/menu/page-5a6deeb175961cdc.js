(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[713],{8900:function(e,t,r){Promise.resolve().then(r.bind(r,3297))},7461:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(4090),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{color:n="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=r;return(0,a.createElement)("svg",{ref:i,...s,width:c,height:c,stroke:n,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(l(e)),u].join(" "),...x},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},8998:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8994:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},94:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2235:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7907:function(e,t,r){"use strict";var a=r(5313);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},3297:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var a=r(3827),s=r(4090),l=r(7907),i=r(8958),n=r(7461);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,n.Z)("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),o=(0,n.Z)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),d=(0,n.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);var u=r(489);function m(e){let{item:t,onEdit:r,onDelete:l,onToggleAvailability:i}=e,[n,m]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[t.image?(0,a.jsx)("img",{src:t.image,alt:t.name,className:"w-20 h-20 rounded-lg object-cover flex-shrink-0"}):(0,a.jsx)("div",{className:"w-20 h-20 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"No image"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:t.name}),(0,a.jsxs)("p",{className:"font-bold text-blue-600 text-lg flex-shrink-0",children:["$",(t.price/100).toFixed(2)]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:t.description}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"inline-block px-2 py-1 rounded-full bg-gray-100",children:t.category}),(0,a.jsxs)("span",{children:[t.preparationTime,"min prep"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[(0,a.jsx)("button",{onClick:()=>i(t.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600 hover:text-gray-900",title:t.available?"Mark unavailable":"Mark available",children:t.available?(0,a.jsx)(c,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(o,{className:"w-5 h-5 text-gray-400"})}),(0,a.jsx)("button",{onClick:()=>r(t),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600 hover:text-blue-700",title:"Edit item",children:(0,a.jsx)(d,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>m(!n),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600 hover:text-red-700",title:"Delete item",children:(0,a.jsx)(u.Z,{className:"w-5 h-5"})})]})]}),n&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-red-900 font-medium mb-2",children:"Delete this item?"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>m(!1),className:"px-3 py-1 border border-red-300 text-red-700 rounded text-sm hover:bg-red-100 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{l(t.id),m(!1)},className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]}),!t.available&&(0,a.jsx)("div",{className:"mt-3 p-2 bg-gray-100 rounded text-sm text-gray-600 text-center font-medium",children:"Currently Unavailable"})]})}var x=r(2235);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,n.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),g=["Appetizers","Mains","Sides","Desserts","Beverages"];function p(e){let{item:t,isOpen:r,onClose:l,onSave:i}=e,[n,c]=(0,s.useState)({name:"",description:"",price:0,category:"Mains",image:void 0,available:!0,preparationTime:15}),[o,d]=(0,s.useState)(null),[u,m]=(0,s.useState)({});(0,s.useEffect)(()=>{t?(c(t),d(t.image||null)):(c({name:"",description:"",price:0,category:"Mains",image:void 0,available:!0,preparationTime:15}),d(null)),m({})},[t,r]);let p=()=>{let e={};return n.name.trim()||(e.name="Item name is required"),n.description.trim()||(e.description="Description is required"),n.price<=0&&(e.price="Price must be greater than 0"),n.preparationTime<=0&&(e.preparationTime="Preparation time must be greater than 0"),m(e),0===Object.keys(e).length},b=e=>{e.preventDefault(),p()&&(i({...n,id:(null==t?void 0:t.id)||"item-".concat(Date.now())}),l())};return r?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Menu Item":"Add New Item"}),(0,a.jsx)("button",{onClick:l,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(x.Z,{className:"w-6 h-6 text-gray-600"})})]}),(0,a.jsxs)("form",{onSubmit:b,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Item Image"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[o?(0,a.jsxs)("div",{className:"relative w-32 h-32",children:[(0,a.jsx)("img",{src:o,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}),(0,a.jsx)("button",{type:"button",onClick:()=>{d(null),c({...n,image:void 0})},className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:(0,a.jsx)(x.Z,{className:"w-4 h-4"})})]}):(0,a.jsxs)("label",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-gray-400 transition-colors",children:[(0,a.jsx)(h,{className:"w-6 h-6 text-gray-400 mb-1"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){let e=new FileReader;e.onload=e=>{var t;let r=null===(t=e.target)||void 0===t?void 0:t.result;d(r),c({...n,image:r})},e.readAsDataURL(r)}},className:"hidden"})]}),(0,a.jsxs)("div",{className:"flex-1 text-sm text-gray-600",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 mb-1",children:"Upload Image"}),(0,a.jsx)("p",{children:"JPG, PNG up to 5MB"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Item Name"}),(0,a.jsx)("input",{type:"text",value:n.name,onChange:e=>c({...n,name:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.name?"border-red-500":"border-gray-300"),placeholder:"e.g., Pasta Carbonara"}),u.name&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:n.description,onChange:e=>c({...n,description:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.description?"border-red-500":"border-gray-300"),placeholder:"Describe your dish...",rows:3}),u.description&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Category"}),(0,a.jsx)("select",{value:n.category,onChange:e=>c({...n,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:g.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Price ($)"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:(n.price/100).toFixed(2),onChange:e=>c({...n,price:Math.round(100*parseFloat(e.target.value))}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.price?"border-red-500":"border-gray-300"),placeholder:"0.00"}),u.price&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.price})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Preparation Time (minutes)"}),(0,a.jsx)("input",{type:"number",value:n.preparationTime,onChange:e=>c({...n,preparationTime:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(u.preparationTime?"border-red-500":"border-gray-300"),placeholder:"15"}),u.preparationTime&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u.preparationTime})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.available,onChange:e=>c({...n,available:e.target.checked}),className:"w-4 h-4 rounded border-gray-300 cursor-pointer"}),(0,a.jsx)("label",{className:"text-sm font-medium text-gray-900 cursor-pointer",children:"Available for ordering"})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 p-6 bg-gray-50 flex gap-3 justify-end sticky bottom-0",children:[(0,a.jsx)("button",{onClick:l,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancel"}),(0,a.jsx)("button",{onClick:b,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:t?"Update Item":"Add Item"})]})]})}):null}var b=r(8994),y=r(94),f=r(8998);function v(){let e=(0,l.useRouter)(),{token:t}=(0,i.t)(),[r,n]=(0,s.useState)([]),[c,o]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),[g,v]=(0,s.useState)(null),[j,N]=(0,s.useState)("all"),w=["Appetizers","Mains","Sides","Desserts","Beverages"];(0,s.useEffect)(()=>{if(!t){e.push("/login");return}(async()=>{try{o(!0);let e=[{id:"1",name:"Margherita Pizza",description:"Fresh mozzarella, basil, tomato sauce on thin crust",priceCents:1899,category:"Mains",prepTimeMinutes:12,dietaryTags:["vegetarian"],isAvailable:!0,createdAt:new Date},{id:"2",name:"Caesar Salad",description:"Romaine lettuce, parmesan, croutons, classic Caesar dressing",priceCents:999,category:"Appetizers",prepTimeMinutes:5,dietaryTags:["vegetarian"],isAvailable:!0,createdAt:new Date},{id:"3",name:"Grilled Salmon",description:"Atlantic salmon fillet with lemon butter and herbs",priceCents:2299,category:"Mains",prepTimeMinutes:18,dietaryTags:["gluten-free"],isAvailable:!0,createdAt:new Date},{id:"4",name:"Tiramisu",description:"Classic Italian dessert with mascarpone and espresso",priceCents:799,category:"Desserts",prepTimeMinutes:0,dietaryTags:["vegetarian"],isAvailable:!0,createdAt:new Date}];n(e),u(null)}catch(e){u("Failed to load menu items"),console.error(e)}finally{o(!1)}})()},[t,e]);let k=async e=>{try{let t={id:Date.now().toString(),...e,isAvailable:!0,createdAt:new Date};n([...r,t]),h(!1)}catch(e){console.error("Failed to create menu item:",e)}},C=async(e,t)=>{try{n(r.map(r=>r.id===e?{...r,...t}:r)),v(null)}catch(e){console.error("Failed to update menu item:",e)}},A=async e=>{if(confirm("Are you sure you want to delete this item?"))try{n(r.filter(t=>t.id!==e))}catch(e){console.error("Failed to delete menu item:",e)}},T=async e=>{try{n(r.map(t=>t.id===e?{...t,isAvailable:!t.isAvailable}:t))}catch(e){console.error("Failed to toggle availability:",e)}},M="all"===j?r:r.filter(e=>e.category===j);return c?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(b.Z,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading menu..."})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your menu items and availability"})]}),(0,a.jsxs)("button",{onClick:()=>{v(null),h(!x)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5"}),"Add Item"]})]}),d&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-red-900",children:d}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"text-red-700 hover:text-red-900 text-sm mt-2",children:"Try again"})]})]}),x&&(0,a.jsx)(p,{item:g,onSubmit:e=>{g?C(g.id,e):k(e)},onCancel:()=>{h(!1),v(null)},categories:w}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsx)("button",{onClick:()=>N("all"),className:"px-4 py-2 rounded-full transition-colors ".concat("all"===j?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"All Items"}),w.map(e=>(0,a.jsx)("button",{onClick:()=>N(e),className:"px-4 py-2 rounded-full transition-colors ".concat(j===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===M.length?(0,a.jsx)("div",{className:"col-span-full bg-white rounded-lg shadow p-12 text-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No items in this category"})}):M.map(e=>(0,a.jsx)(m,{item:e,onEdit:()=>{v(e),h(!0)},onDelete:()=>A(e.id),onToggleAvailability:()=>T(e.id)},e.id))})]})}},8958:function(e,t,r){"use strict";r.d(t,{t:function(){return l}});var a=r(798),s=r(7305);let l=(0,a.Ue)()((0,s.tJ)(e=>({user:null,chef:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!0,setAuth:(t,r,a,s)=>e({user:t,chef:r,accessToken:a,refreshToken:s,isAuthenticated:!0,isLoading:!1}),setChef:t=>e({chef:t}),clearAuth:()=>e({user:null,chef:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1}),setLoading:t=>e({isLoading:t})}),{name:"chef-auth-storage",onRehydrateStorage:()=>e=>{null==e||e.setLoading(!1)}}))}},function(e){e.O(0,[402,971,69,744],function(){return e(e.s=8900)}),_N_E=e.O()}]);