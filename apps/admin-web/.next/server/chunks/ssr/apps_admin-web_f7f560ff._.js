module.exports=[63142,a=>{"use strict";let b=(0,a.i(5770).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],63142)},69546,a=>{"use strict";let b=(0,a.i(5770).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.s(["Mail",()=>b],69546)},94940,a=>{"use strict";let b=(0,a.i(5770).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],94940)},62903,a=>{"use strict";let b=(0,a.i(5770).default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],62903)},96977,a=>{"use strict";let b=(0,a.i(5770).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],96977)},47589,a=>{"use strict";let b=(0,a.i(5770).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],47589)},33163,a=>{"use strict";let b=(0,a.i(5770).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33163)},67482,a=>{"use strict";let b=(0,a.i(5770).default)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],67482)},64227,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3112),e=a.i(97094),f=a.i(47589),g=a.i(96977),h=a.i(67482),i=a.i(62903),j=a.i(26108),k=a.i(94940),l=a.i(69546),m=a.i(63142),n=a.i(33163),o=a.i(5770);let p=(0,o.default)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),q=(0,o.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);function r(){let[a,o]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)("all"),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1);(0,c.useEffect)(()=>{F()},[t]);let F=async()=>{s(!0);try{let a=await d.api.getDrivers({status:"all"===t?void 0:t,search:v||void 0});o(a.drivers)}catch(a){console.error("Failed to fetch drivers:",a),o([{id:"1",user_id:"u1",user_email:"john@example.com",user_phone:"+1 234-567-8900",user_name:"John Smith",vehicle_type:"car",vehicle_make:"Toyota",vehicle_model:"Corolla",vehicle_year:2020,license_plate:"ABC 123",rating:4.9,total_deliveries:245,is_available:!0,is_verified:!0,verification_status:"approved",created_at:new Date().toISOString()},{id:"2",user_id:"u2",user_email:"sarah@example.com",user_phone:"+1 234-567-8901",user_name:"Sarah Johnson",vehicle_type:"car",vehicle_make:"Honda",vehicle_model:"Civic",vehicle_year:2019,license_plate:"XYZ 789",rating:0,total_deliveries:0,is_available:!1,is_verified:!1,verification_status:"pending",created_at:new Date().toISOString()}])}finally{s(!1)}},G=async a=>{E(!0);try{await d.api.approveDriver(a.id),F()}catch(a){console.error("Failed to approve driver:",a)}finally{E(!1)}},H=async()=>{if(x&&z){E(!0);try{await d.api.rejectDriver(x.id,z),C(!1),A(""),y(null),F()}catch(a){console.error("Failed to reject driver:",a)}finally{E(!1)}}},I=a.filter(a=>{if(!v)return!0;let b=v.toLowerCase();return a.user_name.toLowerCase().includes(b)||a.user_email.toLowerCase().includes(b)||a.license_plate.toLowerCase().includes(b)}),J=a.filter(a=>a.is_available).length,K=a.filter(a=>"pending"===a.verification_status).length,L=a.filter(a=>"approved"===a.verification_status).length;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Driver Management"}),(0,b.jsx)("p",{className:"text-muted text-sm",children:"Manage driver applications and fleet"})]})}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted"}),(0,b.jsx)("input",{type:"text",value:v,onChange:a=>w(a.target.value),placeholder:"Search by name, email, or license plate...",className:"input pl-10"})]}),(0,b.jsxs)("select",{value:t,onChange:a=>u(a.target.value),className:"input w-full sm:w-48",children:[(0,b.jsx)("option",{value:"all",children:"All Drivers"}),(0,b.jsx)("option",{value:"pending",children:"Pending Approval"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsx)("div",{className:"card bg-emerald-50 border-emerald-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(e.Truck,{className:"w-5 h-5 text-emerald-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-emerald-700",children:J}),(0,b.jsx)("p",{className:"text-sm text-emerald-600",children:"Currently Online"})]})]})}),(0,b.jsx)("div",{className:"card bg-amber-50 border-amber-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(m.AlertCircle,{className:"w-5 h-5 text-amber-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-amber-700",children:K}),(0,b.jsx)("p",{className:"text-sm text-amber-600",children:"Pending Review"})]})]})}),(0,b.jsx)("div",{className:"card bg-blue-50 border-blue-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g.CheckCircle,{className:"w-5 h-5 text-blue-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:L}),(0,b.jsx)("p",{className:"text-sm text-blue-600",children:"Verified"})]})]})}),(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(e.Truck,{className:"w-5 h-5 text-muted"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-ink",children:a.length}),(0,b.jsx)("p",{className:"text-sm text-muted",children:"Total Drivers"})]})]})})]}),(0,b.jsx)("div",{className:"card",children:r?(0,b.jsx)("div",{className:"text-center py-12 text-muted",children:"Loading..."}):0===I.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(e.Truck,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,b.jsx)("p",{className:"text-muted",children:"No drivers found"})]}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-50",children:[(0,b.jsx)("th",{className:"table-header",children:"Driver"}),(0,b.jsx)("th",{className:"table-header",children:"Contact"}),(0,b.jsx)("th",{className:"table-header",children:"Vehicle"}),(0,b.jsx)("th",{className:"table-header",children:"Stats"}),(0,b.jsx)("th",{className:"table-header",children:"Status"}),(0,b.jsx)("th",{className:"table-header",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:I.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"table-cell",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center",children:(0,b.jsx)(e.Truck,{className:"w-5 h-5 text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-ink",children:a.user_name}),(0,b.jsxs)("p",{className:"text-xs text-muted",children:["Applied"," ",new Date(a.created_at).toLocaleDateString()]})]})]})}),(0,b.jsx)("td",{className:"table-cell",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted",children:[(0,b.jsx)(l.Mail,{className:"w-3 h-3"}),a.user_email]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted",children:[(0,b.jsx)(k.Phone,{className:"w-3 h-3"}),a.user_phone]})]})}),(0,b.jsx)("td",{className:"table-cell",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p,{className:"w-4 h-4 text-muted"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.vehicle_year," ",a.vehicle_make," ",a.vehicle_model]})]}),(0,b.jsxs)("p",{className:"text-xs text-muted",children:["Plate: ",a.license_plate]})]})}),(0,b.jsx)("td",{className:"table-cell",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(j.Star,{className:"w-4 h-4 text-amber-500"}),(0,b.jsx)("span",{className:"font-medium",children:a.rating.toFixed(1)})]}),(0,b.jsxs)("p",{className:"text-xs text-muted",children:[a.total_deliveries," deliveries"]})]})}),(0,b.jsx)("td",{className:"table-cell",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("span",{className:`badge ${"approved"===a.verification_status?"badge-approved":"rejected"===a.verification_status?"badge-rejected":"badge-pending"}`,children:a.verification_status}),a.is_verified&&(0,b.jsx)("span",{className:`badge ml-1 ${a.is_available?"badge-active":"badge-inactive"}`,children:a.is_available?"Online":"Offline"})]})}),(0,b.jsx)("td",{className:"table-cell",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:(0,b.jsx)(i.Eye,{className:"w-4 h-4 text-muted"})}),(0,b.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Documents",children:(0,b.jsx)(q,{className:"w-4 h-4 text-muted"})}),"pending"===a.verification_status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>G(a),disabled:D,className:"p-2 hover:bg-emerald-100 rounded-lg transition-colors",title:"Approve",children:(0,b.jsx)(g.CheckCircle,{className:"w-4 h-4 text-emerald-600"})}),(0,b.jsx)("button",{onClick:()=>{y(a),C(!0)},className:"p-2 hover:bg-red-100 rounded-lg transition-colors",title:"Reject",children:(0,b.jsx)(h.XCircle,{className:"w-4 h-4 text-red-600"})})]})]})})]},a.id))})]})})}),B&&x&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-ink",children:"Reject Application"}),(0,b.jsx)("button",{onClick:()=>{C(!1),A("")},className:"p-1 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(n.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("p",{className:"text-sm text-muted mb-4",children:["Rejecting application for"," ",(0,b.jsx)("span",{className:"font-medium text-ink",children:x.user_name})]}),(0,b.jsx)("textarea",{value:z,onChange:a=>A(a.target.value),placeholder:"Reason for rejection (will be sent to applicant)...",rows:4,className:"input mb-4"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{C(!1),A("")},className:"flex-1 btn-secondary",children:"Cancel"}),(0,b.jsx)("button",{onClick:H,disabled:!z||D,className:"flex-1 btn-danger",children:D?"Rejecting...":"Reject"})]})]})})]})}a.s(["default",()=>r],64227)}];

//# sourceMappingURL=apps_admin-web_f7f560ff._.js.map