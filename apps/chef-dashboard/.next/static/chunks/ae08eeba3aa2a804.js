(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37346,e=>{"use strict";let t=(0,e.i(80402).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],37346)},55838,(e,t,r)=>{"use strict";var s=e.r(71645),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,l=s.useEffect,i=s.useLayoutEffect,o=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var d="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,d=s[1];return i(function(){a.value=r,a.getSnapshot=t,c(a)&&d({inst:a})},[e,r,t]),l(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,r)=>{"use strict";var s=e.r(71645),a=e.r(2239),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=a.useSyncExternalStore,i=s.useRef,o=s.useEffect,c=s.useMemo,d=s.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var u=i(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;var x=l(e,(u=c(function(){function e(e){if(!o){if(o=!0,l=e,e=s(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return i=t}return i=e}if(t=i,n(l,e))return t;var r=s(e);return void 0!==a&&a(t,r)?(l=e,t):(l=e,i=r)}var l,i,o=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,s,a]))[0],u[1]);return o(function(){m.hasValue=!0,m.value=x},[x]),d(x),x}},30224,(e,t,r)=>{"use strict";t.exports=e.r(52822)},4917,e=>{"use strict";let t={get url(){return`file://${e.P("node_modules/zustand/esm/vanilla.mjs")}`}},r=e=>{let r,s=new Set,a=(e,t)=>{let a="function"==typeof e?e(r):e;if(!Object.is(a,r)){let e=r;r=(null!=t?t:"object"!=typeof a||null===a)?a:Object.assign({},r,a),s.forEach(t=>t(r,e))}},n=()=>r,l={setState:a,getState:n,getInitialState:()=>i,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{(t.env?t.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},i=r=e(a,n,l);return l};var s=e.i(71645),a=e.i(30224);let n={get url(){return`file://${e.P("node_modules/zustand/esm/index.mjs")}`}},{useDebugValue:l}=s.default,{useSyncExternalStoreWithSelector:i}=a.default,o=!1,c={get url(){return`file://${e.P("node_modules/zustand/esm/middleware.mjs")}`}},d=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>d(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>d(t)(e)}}},u=(e=>{(n.env?n.env.MODE:void 0)!=="production"&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?e?r(e):r:e,s=(e,r)=>(function(e,t=e=>e,r){(n.env?n.env.MODE:void 0)!=="production"&&r&&!o&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),o=!0);let s=i(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return l(s),s})(t,e,r);return Object.assign(s,t),s})(((e,t)=>{if("getStorage"in t||"serialize"in t||"deserialize"in t)return(c.env?c.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),(r,s,a)=>{let n,l,i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,c=new Set,u=new Set;try{n=i.getStorage()}catch(e){}if(!n)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...e)},s,a);let m=d(i.serialize),x=()=>{let e,t=m({state:i.partialize({...s()}),version:i.version}).then(e=>n.setItem(i.name,e)).catch(t=>{e=t});if(e)throw e;return t},g=a.setState;a.setState=(e,t)=>{g(e,t),x()};let h=e((...e)=>{r(...e),x()},s,a),p=()=>{var e;if(!n)return;o=!1,c.forEach(e=>e(s()));let t=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,s()))||void 0;return d(n.getItem.bind(n))(i.name).then(e=>{if(e)return i.deserialize(e)}).then(e=>{if(e)if("number"!=typeof e.version||e.version===i.version)return e.state;else{if(i.migrate)return i.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return r(l=i.merge(e,null!=(t=s())?t:h),!0),x()}).then(()=>{null==t||t(l,void 0),o=!0,u.forEach(e=>e(l))}).catch(e=>{null==t||t(void 0,e)})};return a.persist={setOptions:e=>{i={...i,...e},e.getStorage&&(n=e.getStorage())},clearStorage:()=>{null==n||n.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},p(),l||h};return(r,s,a)=>{let n,l={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let s=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=r.getItem(e))?t:null;return a instanceof Promise?a.then(s):s(a)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1,o=new Set,c=new Set,u=l.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...e)},s,a);let m=()=>{let e=l.partialize({...s()});return u.setItem(l.name,{state:e,version:l.version})},x=a.setState;a.setState=(e,t)=>{x(e,t),m()};let g=e((...e)=>{r(...e),m()},s,a);a.getInitialState=()=>g;let h=()=>{var e,t;if(!u)return;i=!1,o.forEach(e=>{var t;return e(null!=(t=s())?t:g)});let a=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=s())?e:g))||void 0;return d(u.getItem.bind(u))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate)return[!0,l.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[a,i]=e;if(r(n=l.merge(i,null!=(t=s())?t:g),!0),a)return m()}).then(()=>{null==a||a(n,void 0),n=s(),i=!0,c.forEach(e=>e(n))}).catch(e=>{null==a||a(void 0,e)})};return a.persist={setOptions:e=>{l={...l,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>h(),hasHydrated:()=>i,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},l.skipHydration||h(),n||g}})(e=>({user:null,chef:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!0,setAuth:(t,r,s,a)=>e({user:t,chef:r,accessToken:s,refreshToken:a,isAuthenticated:!0,isLoading:!1}),setChef:t=>e({chef:t}),clearAuth:()=>e({user:null,chef:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1}),setLoading:t=>e({isLoading:t})}),{name:"chef-auth-storage",onRehydrateStorage:()=>e=>{e?.setLoading(!1)}}));e.s(["useAuthStore",0,u],4917)},73393,e=>{"use strict";let t=(0,e.i(80402).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],73393)},6460,e=>{"use strict";let t=(0,e.i(80402).default)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],6460)},96535,e=>{"use strict";let t=(0,e.i(80402).default)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],96535)},36890,e=>{"use strict";let t=(0,e.i(80402).default)("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);e.s(["ChefHat",()=>t],36890)},78625,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(4917),n=e.i(37346),l=e.i(96535),i=e.i(80402);let o=(0,i.default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var c=e.i(36890);let d=(0,i.default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),u={pending:{bg:"bg-yellow-50 border-yellow-200",text:"text-yellow-700",label:"Pending",action:"Accept Order"},accepted:{bg:"bg-blue-50 border-blue-200",text:"text-blue-700",label:"Accepted",action:"Start Preparing"},preparing:{bg:"bg-blue-50 border-blue-200",text:"text-blue-700",label:"Preparing",action:"Mark Ready"},ready_for_pickup:{bg:"bg-green-50 border-green-200",text:"text-green-700",label:"Ready for Pickup"}};function m({order:e,onViewDetails:r}){let s=u[e.status]||u.pending,a=e.items.map(e=>`${e.quantity}x ${e.name}`).join(", ");return(0,t.jsxs)("div",{className:`border rounded-lg p-6 ${s.bg} transition-all hover:shadow-md`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:e.orderNumber}),(0,t.jsx)("p",{className:`text-sm font-medium mt-1 ${s.text}`,children:s.label})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(e.totalCents/100).toFixed(2)]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.items.length," items"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 pb-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,t.jsx)(c.ChefHat,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"font-medium",children:e.customerName})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[(0,t.jsx)(o,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{children:e.customerPhone})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 text-gray-600 text-sm",children:[(0,t.jsx)(l.MapPin,{className:"w-4 h-4 text-gray-400 mt-0.5"}),(0,t.jsx)("span",{children:e.deliveryAddress})]})]}),(0,t.jsx)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:a})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,t.jsx)(n.Clock,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:(e=>{let t=Math.floor((Date.now()-e.getTime())/6e4);if(t<1)return"Just now";if(t<60)return`${t}m ago`;let r=Math.floor(t/60);return`${r}h ago`})(e.createdAt)})]}),(0,t.jsxs)("button",{onClick:r,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors text-sm font-medium",children:["View Details",(0,t.jsx)(d,{className:"w-4 h-4"})]})]})]})}var x=e.i(5800);function g({order:e,isOpen:s,onClose:a,onAccept:i,onReject:c,onMarkReady:d}){let[u,m]=(0,r.useState)(!1),[g,h]=(0,r.useState)("");if(!s)return null;let p=e.items.reduce((e,t)=>e+t.price*t.quantity,0),y=Math.round(.15*p),f=Math.round(.08*p);return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:e.orderNumber}),(0,t.jsx)("button",{onClick:a,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:(0,t.jsx)(x.X,{className:"w-6 h-6 text-gray-600"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Customer Information"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"Name:"}),(0,t.jsx)("span",{children:e.customerName})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,t.jsx)(o,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{children:e.customerPhone})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 text-gray-700",children:[(0,t.jsx)(l.MapPin,{className:"w-4 h-4 text-gray-400 mt-0.5"}),(0,t.jsx)("span",{children:e.deliveryAddress})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Items"}),(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200",children:e.items.map((e,r)=>(0,t.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Qty: ",e.quantity]})]}),(0,t.jsxs)("p",{className:"font-semibold text-gray-900",children:["$",(e.price*e.quantity/100).toFixed(2)]})]},r))})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:["$",(p/100).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Platform Fee (15%)"}),(0,t.jsxs)("span",{className:"text-gray-900",children:["$",(y/100).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Tax (8%)"}),(0,t.jsxs)("span",{className:"text-gray-900",children:["$",(f/100).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-2 flex justify-between items-center font-semibold",children:[(0,t.jsx)("span",{className:"text-gray-900",children:"Total"}),(0,t.jsxs)("span",{className:"text-lg text-blue-600",children:["$",(e.totalCents/100).toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Timeline"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.Clock,{className:"w-4 h-4 text-blue-600"}),(0,t.jsxs)("span",{className:"text-gray-600",children:["Order Placed: ",e.createdAt.toLocaleString()]})]}),e.acceptedAt&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.Clock,{className:"w-4 h-4 text-green-600"}),(0,t.jsxs)("span",{className:"text-gray-600",children:["Accepted: ",e.acceptedAt.toLocaleString()]})]}),e.readyAt&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.Clock,{className:"w-4 h-4 text-green-600"}),(0,t.jsxs)("span",{className:"text-gray-600",children:["Ready: ",e.readyAt.toLocaleString()]})]})]})]}),u&&(0,t.jsxs)("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[(0,t.jsx)("h4",{className:"font-semibold text-red-900 mb-3",children:"Reason for Rejection"}),(0,t.jsx)("textarea",{value:g,onChange:e=>h(e.target.value),placeholder:"Explain why you're rejecting this order...",className:"w-full p-2 border border-red-300 rounded text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 p-6 bg-gray-50 flex gap-3 justify-end sticky bottom-0",children:[(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Close"}),"pending"===e.status&&(0,t.jsx)(t.Fragment,{children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{c(g),m(!1)},disabled:!g.trim(),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium disabled:opacity-50",children:"Confirm Rejection"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>m(!0),className:"px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors font-medium",children:"Reject Order"}),(0,t.jsx)("button",{onClick:i,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors font-medium",children:"Accept Order"})]})}),("accepted"===e.status||"preparing"===e.status)&&(0,t.jsx)("button",{onClick:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:"Mark Ready for Pickup"})]})]})})}var h=e.i(22603);let p=[{value:"pending",label:"Pending",color:"bg-yellow-100 text-yellow-800"},{value:"accepted",label:"Accepted",color:"bg-blue-100 text-blue-800"},{value:"preparing",label:"Preparing",color:"bg-purple-100 text-purple-800"},{value:"ready_for_pickup",label:"Ready for Pickup",color:"bg-green-100 text-green-800"},{value:"assigned_to_driver",label:"Assigned",color:"bg-indigo-100 text-indigo-800"},{value:"picked_up",label:"Picked Up",color:"bg-indigo-100 text-indigo-800"},{value:"in_transit",label:"In Transit",color:"bg-cyan-100 text-cyan-800"},{value:"delivered",label:"Delivered",color:"bg-green-100 text-green-800"},{value:"cancelled",label:"Cancelled",color:"bg-gray-100 text-gray-800"},{value:"rejected",label:"Rejected",color:"bg-red-100 text-red-800"}];function y({selectedStatus:e,onStatusChange:s}){let[a,n]=(0,r.useState)(!1),l=(0,r.useMemo)(()=>{if(!e)return"All Orders";let t=p.find(t=>t.value===e);return t?.label||"All Orders"},[e]);return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>n(!a),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium text-gray-700",children:[(0,t.jsx)("span",{children:l}),(0,t.jsx)(h.ChevronDown,{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`})]}),a&&(0,t.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-40 min-w-[200px]",children:[(0,t.jsx)("button",{onClick:()=>{s(null),n(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors text-sm font-medium ${!e?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:"All Orders"}),p.map(r=>(0,t.jsxs)("button",{onClick:()=>{s(r.value),n(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors text-sm flex items-center justify-between ${e===r.value?"bg-blue-50":""}`,children:[(0,t.jsx)("span",{className:e===r.value?"text-blue-700 font-medium":"text-gray-700",children:r.label}),(0,t.jsx)("span",{className:`inline-block w-2 h-2 rounded-full ${r.color.split(" ")[0].replace("bg-","bg-")}`})]},r.value))]}),a&&(0,t.jsx)("div",{className:"fixed inset-0 z-30",onClick:()=>n(!1)})]})}let f=(0,i.default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var b=e.i(6460),v=e.i(73393);function j(){let e=(0,s.useRouter)(),{token:n}=(0,a.useAuthStore)(),[l,i]=(0,r.useState)([]),[o,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[x,h]=(0,r.useState)(null),[p,j]=(0,r.useState)("all"),[N,w]=(0,r.useState)(""),[S,k]=(0,r.useState)(null),[A,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n?(async()=>{try{u(!0);let e=[{id:"1",orderNumber:"RND-20260131-0001",customerName:"John Doe",customerPhone:"+1-555-0123",deliveryAddress:"123 Main St, Hamilton, ON",items:[{name:"Margherita Pizza",quantity:2,price:18.99},{name:"Caesar Salad",quantity:1,price:9.99}],totalCents:4899,status:"pending",createdAt:new Date(Date.now()-3e5)},{id:"2",orderNumber:"RND-20260131-0002",customerName:"Sarah Smith",customerPhone:"+1-555-0456",deliveryAddress:"456 Oak Ave, Burlington, ON",items:[{name:"Spicy Thai Curry",quantity:1,price:14.99},{name:"Spring Rolls",quantity:2,price:8.99}],totalCents:5247,status:"preparing",createdAt:new Date(Date.now()-12e5),acceptedAt:new Date(Date.now()-108e4)},{id:"3",orderNumber:"RND-20260131-0003",customerName:"Mike Johnson",customerPhone:"+1-555-0789",deliveryAddress:"789 Spring Ln, Oakville, ON",items:[{name:"Grilled Salmon",quantity:1,price:22.99},{name:"Roasted Vegetables",quantity:1,price:8.99}],totalCents:5997,status:"ready_for_pickup",createdAt:new Date(Date.now()-27e5),acceptedAt:new Date(Date.now()-258e4),readyAt:new Date(Date.now()-3e5)}];i(e),h(null)}catch(e){h("Failed to load orders"),console.error(e)}finally{u(!1)}})():e.push("/login")},[n,e]),(0,r.useEffect)(()=>{let e=l;if("all"!==p&&(e=e.filter(e=>e.status===p)),N){let t=N.toLowerCase();e=e.filter(e=>e.orderNumber.toLowerCase().includes(t)||e.customerName.toLowerCase().includes(t)||e.customerPhone.includes(t))}c(e)},[l,p,N]);let D=async e=>{try{console.log("Accept order:",e),i(l.map(t=>t.id===e?{...t,status:"accepted",acceptedAt:new Date}:t)),C(!1)}catch(e){console.error("Failed to accept order:",e)}},E=async(e,t)=>{try{console.log("Reject order:",e,t),i(l.filter(t=>t.id!==e)),C(!1)}catch(e){console.error("Failed to reject order:",e)}},O=async e=>{try{console.log("Mark ready:",e),i(l.map(t=>t.id===e?{...t,status:"ready_for_pickup",readyAt:new Date}:t)),C(!1)}catch(e){console.error("Failed to mark order ready:",e)}};return d?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(b.Loader2,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading orders..."})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage incoming orders and prepare meals"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(f,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by order #, customer name, or phone...",value:N,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsx)(y,{selectedStatus:p,onStatusChange:j})]}),x&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[(0,t.jsx)(v.AlertCircle,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-red-900",children:x}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"text-red-700 hover:text-red-900 text-sm mt-2",children:"Try again"})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===o.length?(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No orders found"})}):o.map(e=>(0,t.jsx)(m,{order:e,onViewDetails:()=>{k(e),C(!0)}},e.id))}),S&&(0,t.jsx)(g,{order:S,isOpen:A,onClose:()=>C(!1),onAccept:()=>D(S.id),onReject:e=>E(S.id,e),onMarkReady:()=>O(S.id)})]})}e.s(["default",()=>j],78625)}]);