(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53751,e=>{"use strict";let t=new class{baseUrl;getToken;constructor(){this.baseUrl="http://localhost:9001/api/v2",this.getToken=()=>{{let e=localStorage.getItem("chef-auth-storage");if(e){let t=JSON.parse(e);return t.state?.accessToken||null}}return null}}async request(e,t={}){let s=this.getToken(),r={"Content-Type":"application/json",...t.headers};s&&(r.Authorization=`Bearer ${s}`);let a=await fetch(`${this.baseUrl}${e}`,{...t,headers:r}),i=await a.json();if(!a.ok)throw Error(i.message||"An error occurred");return i}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...e,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(e){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(e)})}async updateChefProfile(e,t){return this.request(`/chefs/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async toggleVacationMode(e){return this.request(`/chefs/${e}/toggle-vacation-mode`,{method:"POST"})}async getStripeOnboardingLink(e){return this.request(`/chefs/${e}/stripe/onboard`,{method:"POST"})}async getStripeStatus(e){return this.request(`/chefs/${e}/stripe/status`)}async getMenus(e){return this.request(`/chefs/${e}/menus`)}async createMenu(e,t){return this.request(`/chefs/${e}/menus`,{method:"POST",body:JSON.stringify(t)})}async updateMenu(e,t){return this.request(`/menus/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteMenu(e){return this.request(`/menus/${e}`,{method:"DELETE"})}async createMenuItem(e,t){return this.request(`/menus/${e}/items`,{method:"POST",body:JSON.stringify(t)})}async updateMenuItem(e,t){return this.request(`/menu-items/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteMenuItem(e){return this.request(`/menu-items/${e}`,{method:"DELETE"})}async getOrders(e){let t=e?.status?`?status=${e.status}`:"";return this.request(`/orders${t}`)}async getOrder(e){return this.request(`/orders/${e}`)}async acceptOrder(e,t){return this.request(`/orders/${e}/accept`,{method:"PATCH",body:JSON.stringify({estimatedPrepTime:t})})}async rejectOrder(e,t){return this.request(`/orders/${e}/reject`,{method:"PATCH",body:JSON.stringify({reason:t})})}async markOrderReady(e){return this.request(`/orders/${e}/ready`,{method:"PATCH"})}async getEarnings(e){let t=e?`?period=${e}`:"";return this.request(`/chefs/me/earnings${t}`)}};e.s(["api",0,t])},37346,e=>{"use strict";let t=(0,e.i(80402).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],37346)},5800,e=>{"use strict";let t=(0,e.i(80402).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],5800)},13502,e=>{"use strict";let t=(0,e.i(80402).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],13502)},36890,e=>{"use strict";let t=(0,e.i(80402).default)("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);e.s(["ChefHat",()=>t],36890)},53714,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(53751),a=e.i(81824),i=e.i(13502),n=e.i(5800),c=e.i(37346),d=e.i(36890);function l(){let[e,l]=(0,s.useState)([]),[o,u]=(0,s.useState)("pending"),[h,m]=(0,s.useState)(!0);(0,s.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=await r.api.getOrders();l(e.data||[])}catch(e){console.error("Failed to fetch orders:",e)}finally{m(!1)}},p=async e=>{try{await r.api.acceptOrder(e,30),a.default.success("Order accepted!"),y()}catch(e){a.default.error(e.message||"Failed to accept order")}},g=async e=>{try{await r.api.rejectOrder(e,"Unable to fulfill at this time"),a.default.success("Order rejected"),y()}catch(e){a.default.error(e.message||"Failed to reject order")}},x=async e=>{try{await r.api.markOrderReady(e),a.default.success("Order marked as ready!"),y()}catch(e){a.default.error(e.message||"Failed to mark order ready")}},f=e=>`$${(e/100).toFixed(2)}`,b=e.filter(e=>{switch(o){case"pending":return"payment_confirmed"===e.status;case"active":return["accepted","preparing","ready_for_pickup"].includes(e.status);case"completed":return["delivered","cancelled","rejected"].includes(e.status);default:return!0}});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Orders"}),(0,t.jsx)("p",{className:"text-muted mt-1",children:"Manage incoming orders"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:["pending","active","completed","all"].map(e=>(0,t.jsx)("button",{onClick:()=>u(e),className:`px-4 py-2 rounded-xl font-medium transition-colors ${o===e?"bg-primary-500 text-white":"bg-white text-muted hover:bg-gray-50"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),h?(0,t.jsx)("div",{className:"card text-center py-12 text-muted",children:"Loading orders..."}):0===b.length?(0,t.jsxs)("div",{className:"card text-center py-12",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"ðŸ“‹"}),(0,t.jsxs)("p",{className:"text-muted",children:["No ",o," orders"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("h3",{className:"font-bold text-ink",children:["Order #",e.id.slice(-6)]}),(0,t.jsx)("span",{className:`badge ${{payment_confirmed:"bg-yellow-100 text-yellow-700",accepted:"bg-blue-100 text-blue-700",preparing:"bg-orange-100 text-orange-700",ready_for_pickup:"bg-green-100 text-green-700",delivered:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700",rejected:"bg-red-100 text-red-700"}[e.status]||"bg-gray-100 text-gray-700"}`,children:e.status.replace(/_/g," ")})]}),(0,t.jsx)("p",{className:"text-sm text-muted mt-1",children:new Date(e.createdAt).toLocaleString()})]}),(0,t.jsx)("p",{className:"text-xl font-bold text-ink",children:f(e.total)})]}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:e.items?.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between py-1",children:[(0,t.jsxs)("span",{className:"text-ink",children:[e.quantity,"x ",e.name]}),(0,t.jsx)("span",{className:"text-muted",children:f(e.price*e.quantity)})]},s))}),(0,t.jsxs)("p",{className:"text-sm text-muted mb-4",children:["ðŸ“ ",e.deliveryAddress?.street,", ",e.deliveryAddress?.city]}),"payment_confirmed"===e.status&&(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>p(e.id),className:"flex-1 btn-primary flex items-center justify-center gap-2",children:[(0,t.jsx)(i.Check,{size:18}),"Accept Order"]}),(0,t.jsxs)("button",{onClick:()=>g(e.id),className:"flex-1 bg-red-100 text-red-600 font-semibold py-3 px-6 rounded-xl hover:bg-red-200 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(n.X,{size:18}),"Reject"]})]}),"accepted"===e.status&&(0,t.jsxs)("button",{onClick:()=>p(e.id),className:"w-full bg-orange-500 text-white font-semibold py-3 px-6 rounded-xl hover:bg-orange-600 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(d.ChefHat,{size:18}),"Start Preparing"]}),"preparing"===e.status&&(0,t.jsxs)("button",{onClick:()=>x(e.id),className:"w-full bg-green-500 text-white font-semibold py-3 px-6 rounded-xl hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(i.Check,{size:18}),"Mark Ready for Pickup"]}),"ready_for_pickup"===e.status&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-600 py-3",children:[(0,t.jsx)(c.Clock,{size:18}),(0,t.jsx)("span",{className:"font-medium",children:"Waiting for driver pickup"})]})]},e.id))})]})}e.s(["default",()=>l])}]);