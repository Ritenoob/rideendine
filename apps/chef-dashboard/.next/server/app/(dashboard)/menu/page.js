(()=>{var e={};e.id=713,e.ids=[713],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8343:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=r(482),s=r(9108),i=r(2563),l=r.n(i),n=r(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["(dashboard)",{children:["menu",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4765)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/(dashboard)/menu/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5021)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1342)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/(dashboard)/menu/page.tsx"],m="/(dashboard)/menu/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/menu/page",pathname:"/menu",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5783:(e,t,r)=>{Promise.resolve().then(r.bind(r,1582))},6138:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(9224).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2739:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(9224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1838:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6377:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1582:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(5344),s=r(3729),i=r(8428),l=r(8286),n=r(9224);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,n.Z)("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),d=(0,n.Z)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),c=(0,n.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);var m=r(6377);function x({item:e,onEdit:t,onDelete:r,onToggleAvailability:i}){let[l,n]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[e.image?a.jsx("img",{src:e.image,alt:e.name,className:"w-20 h-20 rounded-lg object-cover flex-shrink-0"}):a.jsx("div",{className:"w-20 h-20 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-gray-400 text-xs",children:"No image"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:e.name}),(0,a.jsxs)("p",{className:"font-bold text-blue-600 text-lg flex-shrink-0",children:["$",(e.price/100).toFixed(2)]})]}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[a.jsx("span",{className:"inline-block px-2 py-1 rounded-full bg-gray-100",children:e.category}),(0,a.jsxs)("span",{children:[e.preparationTime,"min prep"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[a.jsx("button",{onClick:()=>i(e.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600 hover:text-gray-900",title:e.available?"Mark unavailable":"Mark available",children:e.available?a.jsx(o,{className:"w-5 h-5 text-green-600"}):a.jsx(d,{className:"w-5 h-5 text-gray-400"})}),a.jsx("button",{onClick:()=>t(e),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600 hover:text-blue-700",title:"Edit item",children:a.jsx(c,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>n(!l),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600 hover:text-red-700",title:"Delete item",children:a.jsx(m.Z,{className:"w-5 h-5"})})]})]}),l&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-red-900 font-medium mb-2",children:"Delete this item?"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>n(!1),className:"px-3 py-1 border border-red-300 text-red-700 rounded text-sm hover:bg-red-100 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{r(e.id),n(!1)},className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]}),!e.available&&a.jsx("div",{className:"mt-3 p-2 bg-gray-100 rounded text-sm text-gray-600 text-center font-medium",children:"Currently Unavailable"})]})}var u=r(4513);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,n.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),h=["Appetizers","Mains","Sides","Desserts","Beverages"];function g({item:e,isOpen:t,onClose:r,onSave:i}){let[l,n]=(0,s.useState)({name:"",description:"",price:0,category:"Mains",image:void 0,available:!0,preparationTime:15}),[o,d]=(0,s.useState)(null),[c,m]=(0,s.useState)({});(0,s.useEffect)(()=>{e?(n(e),d(e.image||null)):(n({name:"",description:"",price:0,category:"Mains",image:void 0,available:!0,preparationTime:15}),d(null)),m({})},[e,t]);let x=()=>{let e={};return l.name.trim()||(e.name="Item name is required"),l.description.trim()||(e.description="Description is required"),l.price<=0&&(e.price="Price must be greater than 0"),l.preparationTime<=0&&(e.preparationTime="Preparation time must be greater than 0"),m(e),0===Object.keys(e).length},g=t=>{t.preventDefault(),x()&&(i({...l,id:e?.id||`item-${Date.now()}`}),r())};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Menu Item":"Add New Item"}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(u.Z,{className:"w-6 h-6 text-gray-600"})})]}),(0,a.jsxs)("form",{onSubmit:g,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Item Image"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[o?(0,a.jsxs)("div",{className:"relative w-32 h-32",children:[a.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>{d(null),n({...l,image:void 0})},className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:a.jsx(u.Z,{className:"w-4 h-4"})})]}):(0,a.jsxs)("label",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-gray-400 transition-colors",children:[a.jsx(p,{className:"w-6 h-6 text-gray-400 mb-1"}),a.jsx("span",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload"}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{let t=e.target?.result;d(t),n({...l,image:t})},e.readAsDataURL(t)}},className:"hidden"})]}),(0,a.jsxs)("div",{className:"flex-1 text-sm text-gray-600",children:[a.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Upload Image"}),a.jsx("p",{children:"JPG, PNG up to 5MB"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Item Name"}),a.jsx("input",{type:"text",value:l.name,onChange:e=>n({...l,name:e.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.name?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Pasta Carbonara"}),c.name&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.name})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Description"}),a.jsx("textarea",{value:l.description,onChange:e=>n({...l,description:e.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe your dish...",rows:3}),c.description&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Category"}),a.jsx("select",{value:l.category,onChange:e=>n({...l,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Price ($)"}),a.jsx("input",{type:"number",step:"0.01",value:(l.price/100).toFixed(2),onChange:e=>n({...l,price:Math.round(100*parseFloat(e.target.value))}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),c.price&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.price})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Preparation Time (minutes)"}),a.jsx("input",{type:"number",value:l.preparationTime,onChange:e=>n({...l,preparationTime:parseInt(e.target.value)||0}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.preparationTime?"border-red-500":"border-gray-300"}`,placeholder:"15"}),c.preparationTime&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.preparationTime})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:l.available,onChange:e=>n({...l,available:e.target.checked}),className:"w-4 h-4 rounded border-gray-300 cursor-pointer"}),a.jsx("label",{className:"text-sm font-medium text-gray-900 cursor-pointer",children:"Available for ordering"})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 p-6 bg-gray-50 flex gap-3 justify-end sticky bottom-0",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancel"}),a.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:e?"Update Item":"Add Item"})]})]})}):null}var b=r(2739),y=r(1838),f=r(6138);function v(){let e=(0,i.useRouter)(),{token:t}=(0,l.t)(),[r,n]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[c,m]=(0,s.useState)(null),[u,p]=(0,s.useState)(!1),[h,v]=(0,s.useState)(null),[j,N]=(0,s.useState)("all"),k=["Appetizers","Mains","Sides","Desserts","Beverages"];(0,s.useEffect)(()=>{if(!t){e.push("/login");return}(async()=>{try{d(!0);let e=[{id:"1",name:"Margherita Pizza",description:"Fresh mozzarella, basil, tomato sauce on thin crust",priceCents:1899,category:"Mains",prepTimeMinutes:12,dietaryTags:["vegetarian"],isAvailable:!0,createdAt:new Date},{id:"2",name:"Caesar Salad",description:"Romaine lettuce, parmesan, croutons, classic Caesar dressing",priceCents:999,category:"Appetizers",prepTimeMinutes:5,dietaryTags:["vegetarian"],isAvailable:!0,createdAt:new Date},{id:"3",name:"Grilled Salmon",description:"Atlantic salmon fillet with lemon butter and herbs",priceCents:2299,category:"Mains",prepTimeMinutes:18,dietaryTags:["gluten-free"],isAvailable:!0,createdAt:new Date},{id:"4",name:"Tiramisu",description:"Classic Italian dessert with mascarpone and espresso",priceCents:799,category:"Desserts",prepTimeMinutes:0,dietaryTags:["vegetarian"],isAvailable:!0,createdAt:new Date}];n(e),m(null)}catch(e){m("Failed to load menu items"),console.error(e)}finally{d(!1)}})()},[t,e]);let w=async e=>{try{let t={id:Date.now().toString(),...e,isAvailable:!0,createdAt:new Date};n([...r,t]),p(!1)}catch(e){console.error("Failed to create menu item:",e)}},C=async(e,t)=>{try{n(r.map(r=>r.id===e?{...r,...t}:r)),v(null)}catch(e){console.error("Failed to update menu item:",e)}},A=async e=>{if(confirm("Are you sure you want to delete this item?"))try{n(r.filter(t=>t.id!==e))}catch(e){console.error("Failed to delete menu item:",e)}},M=async e=>{try{n(r.map(t=>t.id===e?{...t,isAvailable:!t.isAvailable}:t))}catch(e){console.error("Failed to toggle availability:",e)}},T="all"===j?r:r.filter(e=>e.category===j);return o?a.jsx("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(b.Z,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading menu..."})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your menu items and availability"})]}),(0,a.jsxs)("button",{onClick:()=>{v(null),p(!u)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(y.Z,{className:"w-5 h-5"}),"Add Item"]})]}),c&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[a.jsx(f.Z,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-red-900",children:c}),a.jsx("button",{onClick:()=>window.location.reload(),className:"text-red-700 hover:text-red-900 text-sm mt-2",children:"Try again"})]})]}),u&&a.jsx(g,{item:h,onSubmit:e=>{h?C(h.id,e):w(e)},onCancel:()=>{p(!1),v(null)},categories:k}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>N("all"),className:`px-4 py-2 rounded-full transition-colors ${"all"===j?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Items"}),k.map(e=>a.jsx("button",{onClick:()=>N(e),className:`px-4 py-2 rounded-full transition-colors ${j===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e},e))]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===T.length?a.jsx("div",{className:"col-span-full bg-white rounded-lg shadow p-12 text-center",children:a.jsx("p",{className:"text-gray-500",children:"No items in this category"})}):T.map(e=>a.jsx(x,{item:e,onEdit:()=>{v(e),p(!0)},onDelete:()=>A(e.id),onToggleAvailability:()=>M(e.id)},e.id))})]})}},8286:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var a=r(5253),s=r(5247);let i=(0,a.Ue)()((0,s.tJ)(e=>({user:null,chef:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!0,setAuth:(t,r,a,s)=>e({user:t,chef:r,accessToken:a,refreshToken:s,isAuthenticated:!0,isLoading:!1}),setChef:t=>e({chef:t}),clearAuth:()=>e({user:null,chef:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1}),setLoading:t=>e({isLoading:t})}),{name:"chef-auth-storage",onRehydrateStorage:()=>e=>{e?.setLoading(!1)}}))},4765:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>s,default:()=>l});let a=(0,r(6843).createProxy)(String.raw`/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/(dashboard)/menu/page.tsx`),{__esModule:s,$$typeof:i}=a,l=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[261,321,717,547],()=>r(8343));module.exports=a})();