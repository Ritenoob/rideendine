(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53751,e=>{"use strict";let t=new class{baseUrl;getToken;constructor(){this.baseUrl="http://localhost:9001/api/v2",this.getToken=()=>{{let e=localStorage.getItem("chef-auth-storage");if(e){let t=JSON.parse(e);return t.state?.accessToken||null}}return null}}async request(e,t={}){let s=this.getToken(),r={"Content-Type":"application/json",...t.headers};s&&(r.Authorization=`Bearer ${s}`);let a=await fetch(`${this.baseUrl}${e}`,{...t,headers:r}),i=await a.json();if(!a.ok)throw Error(i.message||"An error occurred");return i}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...e,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(e){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(e)})}async updateChefProfile(e,t){return this.request(`/chefs/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async toggleVacationMode(e){return this.request(`/chefs/${e}/toggle-vacation-mode`,{method:"POST"})}async getStripeOnboardingLink(e){return this.request(`/chefs/${e}/stripe/onboard`,{method:"POST"})}async getStripeStatus(e){return this.request(`/chefs/${e}/stripe/status`)}async getMenus(e){return this.request(`/chefs/${e}/menus`)}async createMenu(e,t){return this.request(`/chefs/${e}/menus`,{method:"POST",body:JSON.stringify(t)})}async updateMenu(e,t){return this.request(`/menus/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteMenu(e){return this.request(`/menus/${e}`,{method:"DELETE"})}async createMenuItem(e,t){return this.request(`/menus/${e}/items`,{method:"POST",body:JSON.stringify(t)})}async updateMenuItem(e,t){return this.request(`/menu-items/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteMenuItem(e){return this.request(`/menu-items/${e}`,{method:"DELETE"})}async getOrders(e){let t=e?.status?`?status=${e.status}`:"";return this.request(`/orders${t}`)}async getOrder(e){return this.request(`/orders/${e}`)}async acceptOrder(e,t){return this.request(`/orders/${e}/accept`,{method:"PATCH",body:JSON.stringify({estimatedPrepTime:t})})}async rejectOrder(e,t){return this.request(`/orders/${e}/reject`,{method:"PATCH",body:JSON.stringify({reason:t})})}async markOrderReady(e){return this.request(`/orders/${e}/ready`,{method:"PATCH"})}async getEarnings(e){let t=e?`?period=${e}`:"";return this.request(`/chefs/me/earnings${t}`)}};e.s(["api",0,t])},87564,e=>{"use strict";let t=(0,e.i(80402).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],87564)},38311,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(53751),a=e.i(15246),i=e.i(87564);let n=(0,e.i(80402).default)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var d=e.i(6260);function l(){let[e,l]=(0,s.useState)("week"),[c,o]=(0,s.useState)({total:0,orders:0,commission:0}),[u,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{h(!0);try{let t=(await r.api.getOrders()).data||[],s=new Date,a=t.filter(t=>{let r=new Date(t.createdAt);if("today"===e)return r.toDateString()===s.toDateString();if("week"===e){let e=new Date(s.getTime()-6048e5);return r>=e}{let e=new Date(s.getTime()-2592e6);return r>=e}}).filter(e=>"delivered"===e.status),i=a.reduce((e,t)=>e+t.subtotal,0),n=Math.round(.15*i);o({total:i-n,orders:a.length,commission:n})}catch(e){console.error("Failed to fetch earnings:",e)}finally{h(!1)}})()},[e]);let m=e=>`$${(e/100).toFixed(2)}`;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Earnings"}),(0,t.jsx)("p",{className:"text-muted mt-1",children:"Track your revenue and payouts"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:["today","week","month"].map(s=>(0,t.jsx)("button",{onClick:()=>l(s),className:`px-4 py-2 rounded-xl font-medium transition-colors ${e===s?"bg-primary-500 text-white":"bg-white text-muted hover:bg-gray-50"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),u?(0,t.jsx)("div",{className:"card text-center py-12 text-muted",children:"Loading..."}):(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-green-100 rounded-xl",children:(0,t.jsx)(a.DollarSign,{className:"text-green-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted",children:"Net Earnings"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-ink",children:m(c.total)})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,t.jsx)(n,{className:"text-blue-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted",children:"Completed Orders"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-ink",children:c.orders})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-orange-100 rounded-xl",children:(0,t.jsx)(i.TrendingUp,{className:"text-orange-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted",children:"Platform Fee (15%)"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-ink",children:m(c.commission)})]})]})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-100 rounded-xl",children:(0,t.jsx)(d.CreditCard,{className:"text-purple-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-ink",children:"Payouts"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:"Via Stripe Connect"})]})]}),(0,t.jsx)("p",{className:"text-muted mb-4",children:"Payouts are processed automatically through Stripe Connect. Funds are typically available in your bank account within 2-3 business days after delivery completion."}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted",children:"Next Payout"}),(0,t.jsx)("p",{className:"font-bold text-ink",children:m(c.total)})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-muted",children:"Expected"}),(0,t.jsx)("p",{className:"font-medium text-ink",children:"2-3 business days"})]})]})})]})]})}e.s(["default",()=>l],38311)}]);