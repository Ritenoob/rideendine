(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[425],{8870:function(e,t,s){Promise.resolve().then(s.bind(s,7852))},7461:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(4090),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{color:c="currentColor",size:l=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:u="",children:m,...h}=s;return(0,a.createElement)("svg",{ref:i,...r,width:l,height:l,stroke:c,strokeWidth:o?24*Number(d)/Number(l):d,className:["lucide","lucide-".concat(n(e)),u].join(" "),...h},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},94:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7852:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(3827),r=s(4090),n=s(8222),i=s(8958),c=s(3333),l=s(94),d=s(7461);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,d.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),u=(0,d.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var m=s(489);function h(){let{chef:e}=(0,i.t)(),[t,s]=(0,r.useState)([]),[d,h]=(0,r.useState)(!0),[x,p]=(0,r.useState)(!1),[y,g]=(0,r.useState)(null),[f,j]=(0,r.useState)({name:"",description:"",price:"",category:"",preparationTime:"30"});(0,r.useEffect)(()=>{(null==e?void 0:e.id)&&v()},[e]);let v=async()=>{try{let t=await n.h.getMenus(e.id);s(t),t.length>0&&!y&&g(t[0].id)}catch(e){console.error("Failed to fetch menus:",e)}finally{h(!1)}},b=async()=>{try{await n.h.createMenu(e.id,{name:"Main Menu",isActive:!0}),c.default.success("Menu created!"),v()}catch(e){c.default.error(e.message||"Failed to create menu")}},N=async()=>{if(!y||!f.name||!f.price||!f.category){c.default.error("Please fill in all required fields");return}try{await n.h.createMenuItem(y,{name:f.name,description:f.description,price:Math.round(100*parseFloat(f.price)),category:f.category,preparationTime:parseInt(f.preparationTime),isAvailable:!0}),c.default.success("Item added!"),p(!1),j({name:"",description:"",price:"",category:"",preparationTime:"30"}),v()}catch(e){c.default.error(e.message||"Failed to add item")}},k=async(e,t)=>{try{await n.h.updateMenuItem(e,{isAvailable:!t}),c.default.success(t?"Item hidden":"Item visible"),v()}catch(e){c.default.error(e.message||"Failed to update item")}},C=async e=>{if(confirm("Are you sure you want to delete this item?"))try{await n.h.deleteMenuItem(e),c.default.success("Item deleted"),v()}catch(e){c.default.error(e.message||"Failed to delete item")}},A=e=>"$".concat((e/100).toFixed(2)),M=t.find(e=>e.id===y);return e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Menu Management"}),(0,a.jsx)("p",{className:"text-muted mt-1",children:"Add and manage your dishes"})]}),(0,a.jsxs)("button",{onClick:()=>p(!0),className:"btn-primary flex items-center gap-2",children:[(0,a.jsx)(l.Z,{size:18}),"Add Item"]})]}),d?(0,a.jsx)("div",{className:"card text-center py-12 text-muted",children:"Loading menu..."}):0===t.length?(0,a.jsxs)("div",{className:"card text-center py-12",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDF7D️"}),(0,a.jsx)("h3",{className:"text-lg font-bold text-ink mb-2",children:"No menu yet"}),(0,a.jsx)("p",{className:"text-muted mb-6",children:"Create your first menu to start adding items"}),(0,a.jsx)("button",{onClick:b,className:"btn-primary",children:"Create Menu"})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"grid gap-4",children:[null==M?void 0:M.items.map(e=>(0,a.jsxs)("div",{className:"card flex items-center gap-4",children:[e.imageUrl?(0,a.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-20 h-20 rounded-xl object-cover"}):(0,a.jsx)("div",{className:"w-20 h-20 rounded-xl bg-gray-100 flex items-center justify-center text-2xl",children:"\uD83C\uDF7D️"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"font-bold text-ink",children:e.name}),!e.isAvailable&&(0,a.jsx)("span",{className:"badge bg-gray-100 text-gray-600",children:"Hidden"})]}),(0,a.jsx)("p",{className:"text-sm text-muted line-clamp-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,a.jsx)("span",{className:"font-bold text-primary-500",children:A(e.price)}),(0,a.jsx)("span",{className:"text-sm text-muted",children:e.category}),(0,a.jsxs)("span",{className:"text-sm text-muted",children:[e.preparationTime," min"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>k(e.id,e.isAvailable),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:e.isAvailable?"Hide item":"Show item",children:e.isAvailable?(0,a.jsx)(o,{size:18,className:"text-green-600"}):(0,a.jsx)(u,{size:18,className:"text-gray-400"})}),(0,a.jsx)("button",{onClick:()=>C(e.id),className:"p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete item",children:(0,a.jsx)(m.Z,{size:18,className:"text-red-500"})})]})]},e.id)),(null==M?void 0:M.items.length)===0&&(0,a.jsx)("div",{className:"card text-center py-8 text-muted",children:'No items yet. Click "Add Item" to get started.'})]})}),x&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"card max-w-md w-full",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-ink mb-6",children:"Add Menu Item"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Name *"}),(0,a.jsx)("input",{type:"text",className:"input",placeholder:"Butter Chicken",value:f.name,onChange:e=>j({...f,name:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Description"}),(0,a.jsx)("textarea",{className:"input",placeholder:"Describe your dish...",rows:2,value:f.description,onChange:e=>j({...f,description:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Price ($) *"}),(0,a.jsx)("input",{type:"number",step:"0.01",className:"input",placeholder:"12.99",value:f.price,onChange:e=>j({...f,price:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Prep Time (min)"}),(0,a.jsx)("input",{type:"number",className:"input",placeholder:"30",value:f.preparationTime,onChange:e=>j({...f,preparationTime:e.target.value})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Category *"}),(0,a.jsxs)("select",{className:"input",value:f.category,onChange:e=>j({...f,category:e.target.value}),children:[(0,a.jsx)("option",{value:"",children:"Select category"}),(0,a.jsx)("option",{value:"Appetizers",children:"Appetizers"}),(0,a.jsx)("option",{value:"Main Course",children:"Main Course"}),(0,a.jsx)("option",{value:"Sides",children:"Sides"}),(0,a.jsx)("option",{value:"Desserts",children:"Desserts"}),(0,a.jsx)("option",{value:"Drinks",children:"Drinks"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,a.jsx)("button",{onClick:()=>p(!1),className:"flex-1 btn-secondary",children:"Cancel"}),(0,a.jsx)("button",{onClick:N,className:"flex-1 btn-primary",children:"Add Item"})]})]})})]}):(0,a.jsx)("div",{className:"card text-center py-12",children:(0,a.jsx)("p",{className:"text-muted",children:"Complete your chef profile first to manage your menu"})})}},8222:function(e,t,s){"use strict";s.d(t,{h:function(){return r}});class a{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getToken(),a={"Content-Type":"application/json",...t.headers};s&&(a.Authorization="Bearer ".concat(s));let r=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:a}),n=await r.json();if(!r.ok)throw Error(n.message||"An error occurred");return n}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...e,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(e){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(e)})}async updateChefProfile(e,t){return this.request("/chefs/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async toggleVacationMode(e){return this.request("/chefs/".concat(e,"/toggle-vacation-mode"),{method:"POST"})}async getStripeOnboardingLink(e){return this.request("/chefs/".concat(e,"/stripe/onboard"),{method:"POST"})}async getStripeStatus(e){return this.request("/chefs/".concat(e,"/stripe/status"))}async getMenus(e){return this.request("/chefs/".concat(e,"/menus"))}async createMenu(e,t){return this.request("/chefs/".concat(e,"/menus"),{method:"POST",body:JSON.stringify(t)})}async updateMenu(e,t){return this.request("/menus/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteMenu(e){return this.request("/menus/".concat(e),{method:"DELETE"})}async createMenuItem(e,t){return this.request("/menus/".concat(e,"/items"),{method:"POST",body:JSON.stringify(t)})}async updateMenuItem(e,t){return this.request("/menu-items/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteMenuItem(e){return this.request("/menu-items/".concat(e),{method:"DELETE"})}async getOrders(e){let t=(null==e?void 0:e.status)?"?status=".concat(e.status):"";return this.request("/orders".concat(t))}async getOrder(e){return this.request("/orders/".concat(e))}async acceptOrder(e,t){return this.request("/orders/".concat(e,"/accept"),{method:"PATCH",body:JSON.stringify({estimatedPrepTime:t})})}async rejectOrder(e,t){return this.request("/orders/".concat(e,"/reject"),{method:"PATCH",body:JSON.stringify({reason:t})})}async markOrderReady(e){return this.request("/orders/".concat(e,"/ready"),{method:"PATCH"})}async getEarnings(e){return this.request("/chefs/me/earnings".concat(e?"?period=".concat(e):""))}constructor(){this.baseUrl="".concat("http://localhost:9001","/api/").concat("v2"),this.getToken=()=>{{let t=localStorage.getItem("chef-auth-storage");if(t){var e;return(null===(e=JSON.parse(t).state)||void 0===e?void 0:e.accessToken)||null}}return null}}}let r=new a},8958:function(e,t,s){"use strict";s.d(t,{t:function(){return n}});var a=s(798),r=s(7305);let n=(0,a.Ue)()((0,r.tJ)(e=>({user:null,chef:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!0,setAuth:(t,s,a,r)=>e({user:t,chef:s,accessToken:a,refreshToken:r,isAuthenticated:!0,isLoading:!1}),setChef:t=>e({chef:t}),clearAuth:()=>e({user:null,chef:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1}),setLoading:t=>e({isLoading:t})}),{name:"chef-auth-storage",onRehydrateStorage:()=>e=>{null==e||e.setLoading(!1)}}))}},function(e){e.O(0,[402,333,971,69,744],function(){return e(e.s=8870)}),_N_E=e.O()}]);