module.exports=[2904,a=>{"use strict";let b=new class{baseUrl;getToken;constructor(){this.baseUrl="http://localhost:9001/api/v2",this.getToken=()=>null}async request(a,b={}){let c=this.getToken(),d={"Content-Type":"application/json",...b.headers};c&&(d.Authorization=`Bearer ${c}`);let e=await fetch(`${this.baseUrl}${a}`,{...b,headers:d}),f=await e.json();if(!e.ok)throw Error(f.message||"An error occurred");return f}async login(a,b){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})})}async register(a){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...a,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(a){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(a)})}async updateChefProfile(a,b){return this.request(`/chefs/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async toggleVacationMode(a){return this.request(`/chefs/${a}/toggle-vacation-mode`,{method:"POST"})}async getStripeOnboardingLink(a){return this.request(`/chefs/${a}/stripe/onboard`,{method:"POST"})}async getStripeStatus(a){return this.request(`/chefs/${a}/stripe/status`)}async getMenus(a){return this.request(`/chefs/${a}/menus`)}async createMenu(a,b){return this.request(`/chefs/${a}/menus`,{method:"POST",body:JSON.stringify(b)})}async updateMenu(a,b){return this.request(`/menus/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteMenu(a){return this.request(`/menus/${a}`,{method:"DELETE"})}async createMenuItem(a,b){return this.request(`/menus/${a}/items`,{method:"POST",body:JSON.stringify(b)})}async updateMenuItem(a,b){return this.request(`/menu-items/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteMenuItem(a){return this.request(`/menu-items/${a}`,{method:"DELETE"})}async getOrders(a){let b=a?.status?`?status=${a.status}`:"";return this.request(`/orders${b}`)}async getOrder(a){return this.request(`/orders/${a}`)}async acceptOrder(a,b){return this.request(`/orders/${a}/accept`,{method:"PATCH",body:JSON.stringify({estimatedPrepTime:b})})}async rejectOrder(a,b){return this.request(`/orders/${a}/reject`,{method:"PATCH",body:JSON.stringify({reason:b})})}async markOrderReady(a){return this.request(`/orders/${a}/ready`,{method:"PATCH"})}async getEarnings(a){let b=a?`?period=${a}`:"";return this.request(`/chefs/me/earnings${b}`)}};a.s(["api",0,b])},15442,a=>{"use strict";let b=(0,a.i(8462).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15442)},99049,a=>{"use strict";let b=(0,a.i(8462).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],99049)},26909,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(2904),e=a.i(38795),f=a.i(12007),g=a.i(15442),h=a.i(99049),i=a.i(8462);let j=(0,i.default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),k=(0,i.default)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);function l(){let{chef:a}=(0,e.useAuthStore)(),[i,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)({name:"",description:"",price:"",category:"",preparationTime:"30"});(0,c.useEffect)(()=>{a?.id&&u()},[a]);let u=async()=>{try{let b=await d.api.getMenus(a.id);l(b),b.length>0&&!q&&r(b[0].id)}catch(a){console.error("Failed to fetch menus:",a)}finally{n(!1)}},v=async()=>{try{await d.api.createMenu(a.id,{name:"Main Menu",isActive:!0}),f.default.success("Menu created!"),u()}catch(a){f.default.error(a.message||"Failed to create menu")}},w=async()=>{if(!q||!s.name||!s.price||!s.category)return void f.default.error("Please fill in all required fields");try{await d.api.createMenuItem(q,{name:s.name,description:s.description,price:Math.round(100*parseFloat(s.price)),category:s.category,preparationTime:parseInt(s.preparationTime),isAvailable:!0}),f.default.success("Item added!"),p(!1),t({name:"",description:"",price:"",category:"",preparationTime:"30"}),u()}catch(a){f.default.error(a.message||"Failed to add item")}},x=async(a,b)=>{try{await d.api.updateMenuItem(a,{isAvailable:!b}),f.default.success(b?"Item hidden":"Item visible"),u()}catch(a){f.default.error(a.message||"Failed to update item")}},y=async a=>{if(confirm("Are you sure you want to delete this item?"))try{await d.api.deleteMenuItem(a),f.default.success("Item deleted"),u()}catch(a){f.default.error(a.message||"Failed to delete item")}},z=i.find(a=>a.id===q);return a?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Menu Management"}),(0,b.jsx)("p",{className:"text-muted mt-1",children:"Add and manage your dishes"})]}),(0,b.jsxs)("button",{onClick:()=>p(!0),className:"btn-primary flex items-center gap-2",children:[(0,b.jsx)(g.Plus,{size:18}),"Add Item"]})]}),m?(0,b.jsx)("div",{className:"card text-center py-12 text-muted",children:"Loading menu..."}):0===i.length?(0,b.jsxs)("div",{className:"card text-center py-12",children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:"ðŸ½ï¸"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-ink mb-2",children:"No menu yet"}),(0,b.jsx)("p",{className:"text-muted mb-6",children:"Create your first menu to start adding items"}),(0,b.jsx)("button",{onClick:v,className:"btn-primary",children:"Create Menu"})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"grid gap-4",children:[z?.items.map(a=>{let c;return(0,b.jsxs)("div",{className:"card flex items-center gap-4",children:[a.imageUrl?(0,b.jsx)("img",{src:a.imageUrl,alt:a.name,className:"w-20 h-20 rounded-xl object-cover"}):(0,b.jsx)("div",{className:"w-20 h-20 rounded-xl bg-gray-100 flex items-center justify-center text-2xl",children:"ðŸ½ï¸"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-bold text-ink",children:a.name}),!a.isAvailable&&(0,b.jsx)("span",{className:"badge bg-gray-100 text-gray-600",children:"Hidden"})]}),(0,b.jsx)("p",{className:"text-sm text-muted line-clamp-1",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,b.jsx)("span",{className:"font-bold text-primary-500",children:(c=a.price,`$${(c/100).toFixed(2)}`)}),(0,b.jsx)("span",{className:"text-sm text-muted",children:a.category}),(0,b.jsxs)("span",{className:"text-sm text-muted",children:[a.preparationTime," min"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>x(a.id,a.isAvailable),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:a.isAvailable?"Hide item":"Show item",children:a.isAvailable?(0,b.jsx)(j,{size:18,className:"text-green-600"}):(0,b.jsx)(k,{size:18,className:"text-gray-400"})}),(0,b.jsx)("button",{onClick:()=>y(a.id),className:"p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete item",children:(0,b.jsx)(h.Trash2,{size:18,className:"text-red-500"})})]})]},a.id)}),z?.items.length===0&&(0,b.jsx)("div",{className:"card text-center py-8 text-muted",children:'No items yet. Click "Add Item" to get started.'})]})}),o&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"card max-w-md w-full",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-ink mb-6",children:"Add Menu Item"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Name *"}),(0,b.jsx)("input",{type:"text",className:"input",placeholder:"Butter Chicken",value:s.name,onChange:a=>t({...s,name:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Description"}),(0,b.jsx)("textarea",{className:"input",placeholder:"Describe your dish...",rows:2,value:s.description,onChange:a=>t({...s,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Price ($) *"}),(0,b.jsx)("input",{type:"number",step:"0.01",className:"input",placeholder:"12.99",value:s.price,onChange:a=>t({...s,price:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Prep Time (min)"}),(0,b.jsx)("input",{type:"number",className:"input",placeholder:"30",value:s.preparationTime,onChange:a=>t({...s,preparationTime:a.target.value})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Category *"}),(0,b.jsxs)("select",{className:"input",value:s.category,onChange:a=>t({...s,category:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Select category"}),(0,b.jsx)("option",{value:"Appetizers",children:"Appetizers"}),(0,b.jsx)("option",{value:"Main Course",children:"Main Course"}),(0,b.jsx)("option",{value:"Sides",children:"Sides"}),(0,b.jsx)("option",{value:"Desserts",children:"Desserts"}),(0,b.jsx)("option",{value:"Drinks",children:"Drinks"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{onClick:()=>p(!1),className:"flex-1 btn-secondary",children:"Cancel"}),(0,b.jsx)("button",{onClick:w,className:"flex-1 btn-primary",children:"Add Item"})]})]})})]}):(0,b.jsx)("div",{className:"card text-center py-12",children:(0,b.jsx)("p",{className:"text-muted",children:"Complete your chef profile first to manage your menu"})})}a.s(["default",()=>l],26909)}];

//# sourceMappingURL=apps_chef-dashboard_1fc08c9d._.js.map