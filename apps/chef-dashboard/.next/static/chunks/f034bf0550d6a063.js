(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53751,e=>{"use strict";let t=new class{baseUrl;getToken;constructor(){this.baseUrl="http://localhost:9001/api/v2",this.getToken=()=>{{let e=localStorage.getItem("chef-auth-storage");if(e){let t=JSON.parse(e);return t.state?.accessToken||null}}return null}}async request(e,t={}){let s=this.getToken(),i={"Content-Type":"application/json",...t.headers};s&&(i.Authorization=`Bearer ${s}`);let a=await fetch(`${this.baseUrl}${e}`,{...t,headers:i}),r=await a.json();if(!a.ok)throw Error(r.message||"An error occurred");return r}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...e,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(e){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(e)})}async updateChefProfile(e,t){return this.request(`/chefs/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async toggleVacationMode(e){return this.request(`/chefs/${e}/toggle-vacation-mode`,{method:"POST"})}async getStripeOnboardingLink(e){return this.request(`/chefs/${e}/stripe/onboard`,{method:"POST"})}async getStripeStatus(e){return this.request(`/chefs/${e}/stripe/status`)}async getMenus(e){return this.request(`/chefs/${e}/menus`)}async createMenu(e,t){return this.request(`/chefs/${e}/menus`,{method:"POST",body:JSON.stringify(t)})}async updateMenu(e,t){return this.request(`/menus/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteMenu(e){return this.request(`/menus/${e}`,{method:"DELETE"})}async createMenuItem(e,t){return this.request(`/menus/${e}/items`,{method:"POST",body:JSON.stringify(t)})}async updateMenuItem(e,t){return this.request(`/menu-items/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteMenuItem(e){return this.request(`/menu-items/${e}`,{method:"DELETE"})}async getOrders(e){let t=e?.status?`?status=${e.status}`:"";return this.request(`/orders${t}`)}async getOrder(e){return this.request(`/orders/${e}`)}async acceptOrder(e,t){return this.request(`/orders/${e}/accept`,{method:"PATCH",body:JSON.stringify({estimatedPrepTime:t})})}async rejectOrder(e,t){return this.request(`/orders/${e}/reject`,{method:"PATCH",body:JSON.stringify({reason:t})})}async markOrderReady(e){return this.request(`/orders/${e}/ready`,{method:"PATCH"})}async getEarnings(e){let t=e?`?period=${e}`:"";return this.request(`/chefs/me/earnings${t}`)}};e.s(["api",0,t])},73393,e=>{"use strict";let t=(0,e.i(80402).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],73393)},13502,e=>{"use strict";let t=(0,e.i(80402).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],13502)},73864,e=>{"use strict";let t=(0,e.i(80402).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],73864)},11576,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(53751),a=e.i(4917),r=e.i(81824),n=e.i(73864),l=e.i(13502),d=e.i(73393);let c=["American","Chinese","Indian","Italian","Japanese","Korean","Mexican","Thai","Vietnamese","Mediterranean","Caribbean","Soul Food","BBQ","Vegan","Other"];function o(){let{chef:e,setChef:o,user:u}=(0,a.useAuthStore)(),[m,h]=(0,s.useState)({businessName:"",description:"",address:"",city:"",state:"",zipCode:"",cuisineTypes:[],minimumOrder:"",deliveryRadius:"",averagePrepTime:""}),[p,y]=(0,s.useState)(null),[x,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{e&&(h({businessName:e.businessName||"",description:e.description||"",address:e.address||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||"",cuisineTypes:e.cuisineTypes||[],minimumOrder:(e.minimumOrder/100).toString()||"",deliveryRadius:e.deliveryRadius?.toString()||"",averagePrepTime:e.averagePrepTime?.toString()||""}),i.api.getStripeStatus(e.id).then(y).catch(()=>{}))},[e]);let v=e=>{h({...m,[e.target.name]:e.target.value})},N=async()=>{if(!m.businessName||!m.address||!m.city)return void r.default.error("Please fill in required fields");g(!0);try{if(e){let t=await i.api.updateChefProfile(e.id,{businessName:m.businessName,description:m.description,address:m.address,city:m.city,state:m.state,zipCode:m.zipCode,cuisineTypes:m.cuisineTypes,minimumOrder:Math.round(100*parseFloat(m.minimumOrder||"10")),deliveryRadius:parseInt(m.deliveryRadius||"10"),averagePrepTime:parseInt(m.averagePrepTime||"30")});o(t),r.default.success("Profile updated!")}else{let e=await i.api.applyAsChef({businessName:m.businessName,description:m.description,address:m.address,city:m.city,state:m.state,zipCode:m.zipCode,cuisineTypes:m.cuisineTypes,minimumOrder:Math.round(100*parseFloat(m.minimumOrder||"10")),deliveryRadius:parseInt(m.deliveryRadius||"10"),averagePrepTime:parseInt(m.averagePrepTime||"30"),lat:43.2207,lng:-79.7651});o(e),r.default.success("Chef profile created!")}}catch(e){r.default.error(e.message||"Failed to save")}finally{g(!1)}},j=async()=>{if(e){f(!0);try{let{url:t}=await i.api.getStripeOnboardingLink(e.id);window.open(t,"_blank")}catch(e){r.default.error(e.message||"Failed to start Stripe onboarding")}finally{f(!1)}}},k=async()=>{if(e)try{let t=await i.api.toggleVacationMode(e.id);o(t),r.default.success(t.isOnVacation?"Vacation mode enabled":"Vacation mode disabled")}catch(e){r.default.error(e.message||"Failed to toggle vacation mode")}};return(0,t.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Settings"}),(0,t.jsx)("p",{className:"text-muted mt-1",children:"Manage your chef profile and preferences"})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-ink mb-6",children:"Business Information"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Business Name *"}),(0,t.jsx)("input",{type:"text",name:"businessName",className:"input",placeholder:"Chef John's Kitchen",value:m.businessName,onChange:v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Description"}),(0,t.jsx)("textarea",{name:"description",className:"input",rows:3,placeholder:"Tell customers about your cooking...",value:m.description,onChange:v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Address *"}),(0,t.jsx)("input",{type:"text",name:"address",className:"input",placeholder:"123 Main St",value:m.address,onChange:v})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"City *"}),(0,t.jsx)("input",{type:"text",name:"city",className:"input",placeholder:"Hamilton",value:m.city,onChange:v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"State"}),(0,t.jsx)("input",{type:"text",name:"state",className:"input",placeholder:"ON",value:m.state,onChange:v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"ZIP"}),(0,t.jsx)("input",{type:"text",name:"zipCode",className:"input",placeholder:"L8P 1A1",value:m.zipCode,onChange:v})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Cuisine Types"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>{let t;return t=m.cuisineTypes.includes(e)?m.cuisineTypes.filter(t=>t!==e):[...m.cuisineTypes,e],void h({...m,cuisineTypes:t})},className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${m.cuisineTypes.includes(e)?"bg-primary-500 text-white":"bg-gray-100 text-muted hover:bg-gray-200"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Min Order ($)"}),(0,t.jsx)("input",{type:"number",name:"minimumOrder",className:"input",placeholder:"10",value:m.minimumOrder,onChange:v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Radius (mi)"}),(0,t.jsx)("input",{type:"number",name:"deliveryRadius",className:"input",placeholder:"10",value:m.deliveryRadius,onChange:v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Prep Time (min)"}),(0,t.jsx)("input",{type:"number",name:"averagePrepTime",className:"input",placeholder:"30",value:m.averagePrepTime,onChange:v})]})]})]}),(0,t.jsx)("button",{onClick:N,className:"btn-primary mt-6",disabled:x,children:x?"Saving...":"Save Changes"})]}),e&&(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-ink mb-4",children:"Payment Setup"}),p?.complete?(0,t.jsxs)("div",{className:"flex items-center gap-3 text-green-600 bg-green-50 p-4 rounded-xl",children:[(0,t.jsx)(l.Check,{size:20}),(0,t.jsx)("span",{className:"font-medium",children:"Stripe Connect is set up and payouts are enabled"})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-orange-600 bg-orange-50 p-4 rounded-xl mb-4",children:[(0,t.jsx)(d.AlertCircle,{size:20}),(0,t.jsx)("span",{className:"font-medium",children:"Complete Stripe setup to receive payments"})]}),(0,t.jsxs)("button",{onClick:j,className:"btn-primary flex items-center gap-2",disabled:b,children:[b?"Loading...":"Set Up Stripe Connect",(0,t.jsx)(n.ExternalLink,{size:16})]})]})]}),e&&(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-ink",children:"Vacation Mode"}),(0,t.jsx)("p",{className:"text-sm text-muted mt-1",children:"Temporarily stop receiving orders"})]}),(0,t.jsx)("button",{onClick:k,className:`px-4 py-2 rounded-xl font-medium transition-colors ${e.isOnVacation?"bg-green-100 text-green-700 hover:bg-green-200":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:e.isOnVacation?"Disable Vacation":"Enable Vacation"})]})})]})}e.s(["default",()=>o])}]);