(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9881:function(e,t,s){Promise.resolve().then(s.bind(s,7736))},7461:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(4090),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{color:c="currentColor",size:d=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:u="",children:h,...m}=s;return(0,r.createElement)("svg",{ref:i,...n,width:d,height:d,stroke:c,strokeWidth:o?24*Number(l)/Number(d):l,className:["lucide","lucide-".concat(a(e)),u].join(" "),...m},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(h)?h:[h]])});return s.displayName="".concat(e),s}},4178:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},6490:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8219:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},9733:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7736:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(3827),n=s(4090),a=s(8792),i=s(8958),c=s(8222),d=s(4178),l=s(6490),o=s(8219),u=s(9733);function h(){let{chef:e,user:t}=(0,i.t)(),[s,h]=(0,n.useState)({todayOrders:0,pendingOrders:0,todayEarnings:0,avgPrepTime:0}),[m,x]=(0,n.useState)([]),[g,p]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{try{let t=(await c.h.getOrders()).data||[],s=new Date().toDateString(),r=t.filter(e=>new Date(e.createdAt).toDateString()===s),n=t.filter(e=>["payment_confirmed","accepted","preparing"].includes(e.status));h({todayOrders:r.length,pendingOrders:n.length,todayEarnings:r.reduce((e,t)=>e+t.total,0),avgPrepTime:(null==e?void 0:e.averagePrepTime)||30}),x(t.slice(0,5))}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{p(!1)}})()},[e]);let y=e=>"$".concat((e/100).toFixed(2)),f=e=>({payment_confirmed:"badge badge-pending",accepted:"badge badge-accepted",preparing:"badge badge-preparing",ready_for_pickup:"badge badge-ready",delivered:"badge badge-delivered"})[e]||"badge bg-gray-100 text-gray-700";return e?(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-ink",children:["Welcome back, ",(null==t?void 0:t.firstName)||"Chef","! \uD83D\uDC4B"]}),(0,r.jsx)("p",{className:"text-muted mt-1",children:"Here's how your kitchen is doing today"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,r.jsx)(d.Z,{className:"text-blue-600",size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted",children:"Today's Orders"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-ink",children:s.todayOrders})]})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-orange-100 rounded-xl",children:(0,r.jsx)(l.Z,{className:"text-orange-600",size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted",children:"Pending Orders"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-ink",children:s.pendingOrders})]})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-green-100 rounded-xl",children:(0,r.jsx)(o.Z,{className:"text-green-600",size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted",children:"Today's Earnings"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-ink",children:y(s.todayEarnings)})]})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-purple-100 rounded-xl",children:(0,r.jsx)(u.Z,{className:"text-purple-600",size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted",children:"Avg Prep Time"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-ink",children:[s.avgPrepTime," min"]})]})]})})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-ink",children:"Recent Orders"}),(0,r.jsx)(a.default,{href:"/dashboard/orders",className:"text-primary-500 font-medium hover:underline",children:"View all →"})]}),g?(0,r.jsx)("div",{className:"text-center py-8 text-muted",children:"Loading..."}):0===m.length?(0,r.jsx)("div",{className:"text-center py-8 text-muted",children:"No orders yet"}):(0,r.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,r.jsxs)(a.default,{href:"/dashboard/orders/".concat(e.id),className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-ink",children:["Order #",e.id.slice(-6)]}),(0,r.jsxs)("p",{className:"text-sm text-muted",children:[e.itemCount||1," items • ",new Date(e.createdAt).toLocaleTimeString()]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"font-bold text-ink",children:y(e.total)}),(0,r.jsx)("span",{className:f(e.status),children:e.status.replace(/_/g," ")})]})]},e.id))})]})]}):(0,r.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,r.jsxs)("div",{className:"card text-center py-12",children:[(0,r.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDC68‍\uD83C\uDF73"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-ink mb-4",children:"Set Up Your Kitchen"}),(0,r.jsx)("p",{className:"text-muted mb-8",children:"Complete your chef profile to start receiving orders"}),(0,r.jsx)(a.default,{href:"/dashboard/settings",className:"btn-primary",children:"Complete Setup"})]})})}},8222:function(e,t,s){"use strict";s.d(t,{h:function(){return n}});class r{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getToken(),r={"Content-Type":"application/json",...t.headers};s&&(r.Authorization="Bearer ".concat(s));let n=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:r}),a=await n.json();if(!n.ok)throw Error(a.message||"An error occurred");return a}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...e,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(e){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(e)})}async updateChefProfile(e,t){return this.request("/chefs/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async toggleVacationMode(e){return this.request("/chefs/".concat(e,"/toggle-vacation-mode"),{method:"POST"})}async getStripeOnboardingLink(e){return this.request("/chefs/".concat(e,"/stripe/onboard"),{method:"POST"})}async getStripeStatus(e){return this.request("/chefs/".concat(e,"/stripe/status"))}async getMenus(e){return this.request("/chefs/".concat(e,"/menus"))}async createMenu(e,t){return this.request("/chefs/".concat(e,"/menus"),{method:"POST",body:JSON.stringify(t)})}async updateMenu(e,t){return this.request("/menus/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteMenu(e){return this.request("/menus/".concat(e),{method:"DELETE"})}async createMenuItem(e,t){return this.request("/menus/".concat(e,"/items"),{method:"POST",body:JSON.stringify(t)})}async updateMenuItem(e,t){return this.request("/menu-items/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteMenuItem(e){return this.request("/menu-items/".concat(e),{method:"DELETE"})}async getOrders(e){let t=(null==e?void 0:e.status)?"?status=".concat(e.status):"";return this.request("/orders".concat(t))}async getOrder(e){return this.request("/orders/".concat(e))}async acceptOrder(e,t){return this.request("/orders/".concat(e,"/accept"),{method:"PATCH",body:JSON.stringify({estimatedPrepTime:t})})}async rejectOrder(e,t){return this.request("/orders/".concat(e,"/reject"),{method:"PATCH",body:JSON.stringify({reason:t})})}async markOrderReady(e){return this.request("/orders/".concat(e,"/ready"),{method:"PATCH"})}async getEarnings(e){return this.request("/chefs/me/earnings".concat(e?"?period=".concat(e):""))}constructor(){this.baseUrl="".concat("http://localhost:9001","/api/").concat("v2"),this.getToken=()=>{{let t=localStorage.getItem("chef-auth-storage");if(t){var e;return(null===(e=JSON.parse(t).state)||void 0===e?void 0:e.accessToken)||null}}return null}}}let n=new r},8958:function(e,t,s){"use strict";s.d(t,{t:function(){return a}});var r=s(798),n=s(7305);let a=(0,r.Ue)()((0,n.tJ)(e=>({user:null,chef:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!0,setAuth:(t,s,r,n)=>e({user:t,chef:s,accessToken:r,refreshToken:n,isAuthenticated:!0,isLoading:!1}),setChef:t=>e({chef:t}),clearAuth:()=>e({user:null,chef:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1}),setLoading:t=>e({isLoading:t})}),{name:"chef-auth-storage",onRehydrateStorage:()=>e=>{null==e||e.setLoading(!1)}}))}},function(e){e.O(0,[402,792,971,69,744],function(){return e(e.s=9881)}),_N_E=e.O()}]);