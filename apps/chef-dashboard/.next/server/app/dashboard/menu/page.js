(()=>{var e={};e.id=425,e.ids=[425],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6658:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>c});var a=s(482),r=s(9108),i=s(2563),n=s.n(i),l=s(8300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c=["",{children:["dashboard",{children:["menu",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7869)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/menu/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3096)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/menu/page.tsx"],m="/dashboard/menu/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/menu/page",pathname:"/dashboard/menu",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},646:(e,t,s)=>{Promise.resolve().then(s.bind(s,5363))},1838:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6377:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5363:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(5344),r=s(3729),i=s(6548),n=s(8286),l=s(3692),d=s(1838),c=s(9224);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,c.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m=(0,c.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var x=s(6377);function p(){let{chef:e}=(0,n.t)(),[t,s]=(0,r.useState)([]),[c,p]=(0,r.useState)(!0),[u,h]=(0,r.useState)(!1),[y,g]=(0,r.useState)(null),[j,b]=(0,r.useState)({name:"",description:"",price:"",category:"",preparationTime:"30"});(0,r.useEffect)(()=>{e?.id&&f()},[e]);let f=async()=>{try{let t=await i.h.getMenus(e.id);s(t),t.length>0&&!y&&g(t[0].id)}catch(e){console.error("Failed to fetch menus:",e)}finally{p(!1)}},v=async()=>{try{await i.h.createMenu(e.id,{name:"Main Menu",isActive:!0}),l.default.success("Menu created!"),f()}catch(e){l.default.error(e.message||"Failed to create menu")}},N=async()=>{if(!y||!j.name||!j.price||!j.category){l.default.error("Please fill in all required fields");return}try{await i.h.createMenuItem(y,{name:j.name,description:j.description,price:Math.round(100*parseFloat(j.price)),category:j.category,preparationTime:parseInt(j.preparationTime),isAvailable:!0}),l.default.success("Item added!"),h(!1),b({name:"",description:"",price:"",category:"",preparationTime:"30"}),f()}catch(e){l.default.error(e.message||"Failed to add item")}},k=async(e,t)=>{try{await i.h.updateMenuItem(e,{isAvailable:!t}),l.default.success(t?"Item hidden":"Item visible"),f()}catch(e){l.default.error(e.message||"Failed to update item")}},M=async e=>{if(confirm("Are you sure you want to delete this item?"))try{await i.h.deleteMenuItem(e),l.default.success("Item deleted"),f()}catch(e){l.default.error(e.message||"Failed to delete item")}},C=e=>`$${(e/100).toFixed(2)}`,A=t.find(e=>e.id===y);return e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-ink",children:"Menu Management"}),a.jsx("p",{className:"text-muted mt-1",children:"Add and manage your dishes"})]}),(0,a.jsxs)("button",{onClick:()=>h(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(d.Z,{size:18}),"Add Item"]})]}),c?a.jsx("div",{className:"card text-center py-12 text-muted",children:"Loading menu..."}):0===t.length?(0,a.jsxs)("div",{className:"card text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:"\uD83C\uDF7D️"}),a.jsx("h3",{className:"text-lg font-bold text-ink mb-2",children:"No menu yet"}),a.jsx("p",{className:"text-muted mb-6",children:"Create your first menu to start adding items"}),a.jsx("button",{onClick:v,className:"btn-primary",children:"Create Menu"})]}):a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"grid gap-4",children:[A?.items.map(e=>a.jsxs("div",{className:"card flex items-center gap-4",children:[e.imageUrl?a.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-20 h-20 rounded-xl object-cover"}):a.jsx("div",{className:"w-20 h-20 rounded-xl bg-gray-100 flex items-center justify-center text-2xl",children:"\uD83C\uDF7D️"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-bold text-ink",children:e.name}),!e.isAvailable&&a.jsx("span",{className:"badge bg-gray-100 text-gray-600",children:"Hidden"})]}),a.jsx("p",{className:"text-sm text-muted line-clamp-1",children:e.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsx("span",{className:"font-bold text-primary-500",children:C(e.price)}),a.jsx("span",{className:"text-sm text-muted",children:e.category}),a.jsxs("span",{className:"text-sm text-muted",children:[e.preparationTime," min"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>k(e.id,e.isAvailable),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:e.isAvailable?"Hide item":"Show item",children:e.isAvailable?a.jsx(o,{size:18,className:"text-green-600"}):a.jsx(m,{size:18,className:"text-gray-400"})}),a.jsx("button",{onClick:()=>M(e.id),className:"p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete item",children:a.jsx(x.Z,{size:18,className:"text-red-500"})})]})]},e.id)),A?.items.length===0&&a.jsx("div",{className:"card text-center py-8 text-muted",children:'No items yet. Click "Add Item" to get started.'})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"card max-w-md w-full",children:[a.jsx("h2",{className:"text-xl font-bold text-ink mb-6",children:"Add Menu Item"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Name *"}),a.jsx("input",{type:"text",className:"input",placeholder:"Butter Chicken",value:j.name,onChange:e=>b({...j,name:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Description"}),a.jsx("textarea",{className:"input",placeholder:"Describe your dish...",rows:2,value:j.description,onChange:e=>b({...j,description:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Price ($) *"}),a.jsx("input",{type:"number",step:"0.01",className:"input",placeholder:"12.99",value:j.price,onChange:e=>b({...j,price:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Prep Time (min)"}),a.jsx("input",{type:"number",className:"input",placeholder:"30",value:j.preparationTime,onChange:e=>b({...j,preparationTime:e.target.value})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Category *"}),(0,a.jsxs)("select",{className:"input",value:j.category,onChange:e=>b({...j,category:e.target.value}),children:[a.jsx("option",{value:"",children:"Select category"}),a.jsx("option",{value:"Appetizers",children:"Appetizers"}),a.jsx("option",{value:"Main Course",children:"Main Course"}),a.jsx("option",{value:"Sides",children:"Sides"}),a.jsx("option",{value:"Desserts",children:"Desserts"}),a.jsx("option",{value:"Drinks",children:"Drinks"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:N,className:"flex-1 btn-primary",children:"Add Item"})]})]})})]}):a.jsx("div",{className:"card text-center py-12",children:a.jsx("p",{className:"text-muted",children:"Complete your chef profile first to manage your menu"})})}},7869:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/menu/page.tsx`),{__esModule:r,$$typeof:i}=a,n=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[261,321,717,967],()=>s(6658));module.exports=a})();