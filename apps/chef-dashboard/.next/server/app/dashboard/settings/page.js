(()=>{var e={};e.id=455,e.ids=[455],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9383:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var a=t(482),i=t(9108),n=t(2563),r=t.n(n),d=t(8300),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let o=["",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8958)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3096)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1342)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/settings/page.tsx"],m="/dashboard/settings/page",p={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/dashboard/settings/page",pathname:"/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8923:(e,s,t)=>{Promise.resolve().then(t.bind(t,3473))},6138:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2312:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},2768:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},3473:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(5344),i=t(3729),n=t(6548),r=t(8286),d=t(3692),l=t(2312),o=t(6138),c=t(2768);let m=["American","Chinese","Indian","Italian","Japanese","Korean","Mexican","Thai","Vietnamese","Mediterranean","Caribbean","Soul Food","BBQ","Vegan","Other"];function p(){let{chef:e,setChef:s,user:t}=(0,r.t)(),[p,u]=(0,i.useState)({businessName:"",description:"",address:"",city:"",state:"",zipCode:"",cuisineTypes:[],minimumOrder:"",deliveryRadius:"",averagePrepTime:""}),[x,h]=(0,i.useState)(null),[g,b]=(0,i.useState)(!1),[y,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{e&&(u({businessName:e.businessName||"",description:e.description||"",address:e.address||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||"",cuisineTypes:e.cuisineTypes||[],minimumOrder:(e.minimumOrder/100).toString()||"",deliveryRadius:e.deliveryRadius?.toString()||"",averagePrepTime:e.averagePrepTime?.toString()||""}),n.h.getStripeStatus(e.id).then(h).catch(()=>{}))},[e]);let v=e=>{u({...p,[e.target.name]:e.target.value})},j=e=>{let s=p.cuisineTypes.includes(e)?p.cuisineTypes.filter(s=>s!==e):[...p.cuisineTypes,e];u({...p,cuisineTypes:s})},N=async()=>{if(!p.businessName||!p.address||!p.city){d.default.error("Please fill in required fields");return}b(!0);try{if(e){let t=await n.h.updateChefProfile(e.id,{businessName:p.businessName,description:p.description,address:p.address,city:p.city,state:p.state,zipCode:p.zipCode,cuisineTypes:p.cuisineTypes,minimumOrder:Math.round(100*parseFloat(p.minimumOrder||"10")),deliveryRadius:parseInt(p.deliveryRadius||"10"),averagePrepTime:parseInt(p.averagePrepTime||"30")});s(t),d.default.success("Profile updated!")}else{let e=await n.h.applyAsChef({businessName:p.businessName,description:p.description,address:p.address,city:p.city,state:p.state,zipCode:p.zipCode,cuisineTypes:p.cuisineTypes,minimumOrder:Math.round(100*parseFloat(p.minimumOrder||"10")),deliveryRadius:parseInt(p.deliveryRadius||"10"),averagePrepTime:parseInt(p.averagePrepTime||"30"),lat:43.2207,lng:-79.7651});s(e),d.default.success("Chef profile created!")}}catch(e){d.default.error(e.message||"Failed to save")}finally{b(!1)}},k=async()=>{if(e){f(!0);try{let{url:s}=await n.h.getStripeOnboardingLink(e.id);window.open(s,"_blank")}catch(e){d.default.error(e.message||"Failed to start Stripe onboarding")}finally{f(!1)}}},C=async()=>{if(e)try{let t=await n.h.toggleVacationMode(e.id);s(t),d.default.success(t.isOnVacation?"Vacation mode enabled":"Vacation mode disabled")}catch(e){d.default.error(e.message||"Failed to toggle vacation mode")}};return(0,a.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-ink",children:"Settings"}),a.jsx("p",{className:"text-muted mt-1",children:"Manage your chef profile and preferences"})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-bold text-ink mb-6",children:"Business Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Business Name *"}),a.jsx("input",{type:"text",name:"businessName",className:"input",placeholder:"Chef John's Kitchen",value:p.businessName,onChange:v})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Description"}),a.jsx("textarea",{name:"description",className:"input",rows:3,placeholder:"Tell customers about your cooking...",value:p.description,onChange:v})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Address *"}),a.jsx("input",{type:"text",name:"address",className:"input",placeholder:"123 Main St",value:p.address,onChange:v})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"City *"}),a.jsx("input",{type:"text",name:"city",className:"input",placeholder:"Hamilton",value:p.city,onChange:v})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"State"}),a.jsx("input",{type:"text",name:"state",className:"input",placeholder:"ON",value:p.state,onChange:v})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"ZIP"}),a.jsx("input",{type:"text",name:"zipCode",className:"input",placeholder:"L8P 1A1",value:p.zipCode,onChange:v})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Cuisine Types"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(e=>a.jsx("button",{type:"button",onClick:()=>j(e),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${p.cuisineTypes.includes(e)?"bg-primary-500 text-white":"bg-gray-100 text-muted hover:bg-gray-200"}`,children:e},e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Min Order ($)"}),a.jsx("input",{type:"number",name:"minimumOrder",className:"input",placeholder:"10",value:p.minimumOrder,onChange:v})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Radius (mi)"}),a.jsx("input",{type:"number",name:"deliveryRadius",className:"input",placeholder:"10",value:p.deliveryRadius,onChange:v})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-ink mb-2",children:"Prep Time (min)"}),a.jsx("input",{type:"number",name:"averagePrepTime",className:"input",placeholder:"30",value:p.averagePrepTime,onChange:v})]})]})]}),a.jsx("button",{onClick:N,className:"btn-primary mt-6",disabled:g,children:g?"Saving...":"Save Changes"})]}),e&&(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-bold text-ink mb-4",children:"Payment Setup"}),x?.complete?(0,a.jsxs)("div",{className:"flex items-center gap-3 text-green-600 bg-green-50 p-4 rounded-xl",children:[a.jsx(l.Z,{size:20}),a.jsx("span",{className:"font-medium",children:"Stripe Connect is set up and payouts are enabled"})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-orange-600 bg-orange-50 p-4 rounded-xl mb-4",children:[a.jsx(o.Z,{size:20}),a.jsx("span",{className:"font-medium",children:"Complete Stripe setup to receive payments"})]}),(0,a.jsxs)("button",{onClick:k,className:"btn-primary flex items-center gap-2",disabled:y,children:[y?"Loading...":"Set Up Stripe Connect",a.jsx(c.Z,{size:16})]})]})]}),e&&a.jsx("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-ink",children:"Vacation Mode"}),a.jsx("p",{className:"text-sm text-muted mt-1",children:"Temporarily stop receiving orders"})]}),a.jsx("button",{onClick:C,className:`px-4 py-2 rounded-xl font-medium transition-colors ${e.isOnVacation?"bg-green-100 text-green-700 hover:bg-green-200":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:e.isOnVacation?"Disable Vacation":"Enable Vacation"})]})})]})}},8958:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>r});let a=(0,t(6843).createProxy)(String.raw`/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/settings/page.tsx`),{__esModule:i,$$typeof:n}=a,r=a.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[261,321,717,967],()=>t(9383));module.exports=a})();