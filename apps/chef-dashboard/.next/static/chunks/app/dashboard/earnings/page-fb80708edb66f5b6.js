(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[169],{9887:function(e,t,s){Promise.resolve().then(s.bind(s,3884))},7461:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(4090),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,t)=>{let s=(0,r.forwardRef)((s,c)=>{let{color:i="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:l,className:u="",children:h,...m}=s;return(0,r.createElement)("svg",{ref:c,...n,width:o,height:o,stroke:i,strokeWidth:l?24*Number(d)/Number(o):d,className:["lucide","lucide-".concat(a(e)),u].join(" "),...m},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(h)?h:[h]])});return s.displayName="".concat(e),s}},527:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},8219:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},9733:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},3884:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var r=s(3827),n=s(4090),a=s(8222),c=s(8219);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var o=s(9733),d=s(527);function l(){let[e,t]=(0,n.useState)("week"),[s,l]=(0,n.useState)({total:0,orders:0,commission:0}),[u,h]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{h(!0);try{let t=(await a.h.getOrders()).data||[],s=new Date,r=t.filter(t=>{let r=new Date(t.createdAt);if("today"===e)return r.toDateString()===s.toDateString();if("week"===e){let e=new Date(s.getTime()-6048e5);return r>=e}{let e=new Date(s.getTime()-2592e6);return r>=e}}).filter(e=>"delivered"===e.status),n=r.reduce((e,t)=>e+t.subtotal,0),c=Math.round(.15*n);l({total:n-c,orders:r.length,commission:c})}catch(e){console.error("Failed to fetch earnings:",e)}finally{h(!1)}})()},[e]);let m=e=>"$".concat((e/100).toFixed(2));return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Earnings"}),(0,r.jsx)("p",{className:"text-muted mt-1",children:"Track your revenue and payouts"})]}),(0,r.jsx)("div",{className:"flex gap-2",children:["today","week","month"].map(s=>(0,r.jsx)("button",{onClick:()=>t(s),className:"px-4 py-2 rounded-xl font-medium transition-colors ".concat(e===s?"bg-primary-500 text-white":"bg-white text-muted hover:bg-gray-50"),children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),u?(0,r.jsx)("div",{className:"card text-center py-12 text-muted",children:"Loading..."}):(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-green-100 rounded-xl",children:(0,r.jsx)(c.Z,{className:"text-green-600",size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted",children:"Net Earnings"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-ink",children:m(s.total)})]})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,r.jsx)(i,{className:"text-blue-600",size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted",children:"Completed Orders"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-ink",children:s.orders})]})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-orange-100 rounded-xl",children:(0,r.jsx)(o.Z,{className:"text-orange-600",size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted",children:"Platform Fee (15%)"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-ink",children:m(s.commission)})]})]})})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)("div",{className:"p-3 bg-purple-100 rounded-xl",children:(0,r.jsx)(d.Z,{className:"text-purple-600",size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-ink",children:"Payouts"}),(0,r.jsx)("p",{className:"text-sm text-muted",children:"Via Stripe Connect"})]})]}),(0,r.jsx)("p",{className:"text-muted mb-4",children:"Payouts are processed automatically through Stripe Connect. Funds are typically available in your bank account within 2-3 business days after delivery completion."}),(0,r.jsx)("div",{className:"bg-gray-50 rounded-xl p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted",children:"Next Payout"}),(0,r.jsx)("p",{className:"font-bold text-ink",children:m(s.total)})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-muted",children:"Expected"}),(0,r.jsx)("p",{className:"font-medium text-ink",children:"2-3 business days"})]})]})})]})]})}},8222:function(e,t,s){"use strict";s.d(t,{h:function(){return n}});class r{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getToken(),r={"Content-Type":"application/json",...t.headers};s&&(r.Authorization="Bearer ".concat(s));let n=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:r}),a=await n.json();if(!n.ok)throw Error(a.message||"An error occurred");return a}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...e,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(e){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(e)})}async updateChefProfile(e,t){return this.request("/chefs/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async toggleVacationMode(e){return this.request("/chefs/".concat(e,"/toggle-vacation-mode"),{method:"POST"})}async getStripeOnboardingLink(e){return this.request("/chefs/".concat(e,"/stripe/onboard"),{method:"POST"})}async getStripeStatus(e){return this.request("/chefs/".concat(e,"/stripe/status"))}async getMenus(e){return this.request("/chefs/".concat(e,"/menus"))}async createMenu(e,t){return this.request("/chefs/".concat(e,"/menus"),{method:"POST",body:JSON.stringify(t)})}async updateMenu(e,t){return this.request("/menus/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteMenu(e){return this.request("/menus/".concat(e),{method:"DELETE"})}async createMenuItem(e,t){return this.request("/menus/".concat(e,"/items"),{method:"POST",body:JSON.stringify(t)})}async updateMenuItem(e,t){return this.request("/menu-items/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteMenuItem(e){return this.request("/menu-items/".concat(e),{method:"DELETE"})}async getOrders(e){let t=(null==e?void 0:e.status)?"?status=".concat(e.status):"";return this.request("/orders".concat(t))}async getOrder(e){return this.request("/orders/".concat(e))}async acceptOrder(e,t){return this.request("/orders/".concat(e,"/accept"),{method:"PATCH",body:JSON.stringify({estimatedPrepTime:t})})}async rejectOrder(e,t){return this.request("/orders/".concat(e,"/reject"),{method:"PATCH",body:JSON.stringify({reason:t})})}async markOrderReady(e){return this.request("/orders/".concat(e,"/ready"),{method:"PATCH"})}async getEarnings(e){return this.request("/chefs/me/earnings".concat(e?"?period=".concat(e):""))}constructor(){this.baseUrl="".concat("http://localhost:9001","/api/").concat("v2"),this.getToken=()=>{{let t=localStorage.getItem("chef-auth-storage");if(t){var e;return(null===(e=JSON.parse(t).state)||void 0===e?void 0:e.accessToken)||null}}return null}}}let n=new r}},function(e){e.O(0,[971,69,744],function(){return e(e.s=9887)}),_N_E=e.O()}]);