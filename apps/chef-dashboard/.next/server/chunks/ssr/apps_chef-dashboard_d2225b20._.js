module.exports=[2904,a=>{"use strict";let b=new class{baseUrl;getToken;constructor(){this.baseUrl="http://localhost:9001/api/v2",this.getToken=()=>null}async request(a,b={}){let c=this.getToken(),d={"Content-Type":"application/json",...b.headers};c&&(d.Authorization=`Bearer ${c}`);let e=await fetch(`${this.baseUrl}${a}`,{...b,headers:d}),f=await e.json();if(!e.ok)throw Error(f.message||"An error occurred");return f}async login(a,b){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})})}async register(a){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...a,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(a){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(a)})}async updateChefProfile(a,b){return this.request(`/chefs/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async toggleVacationMode(a){return this.request(`/chefs/${a}/toggle-vacation-mode`,{method:"POST"})}async getStripeOnboardingLink(a){return this.request(`/chefs/${a}/stripe/onboard`,{method:"POST"})}async getStripeStatus(a){return this.request(`/chefs/${a}/stripe/status`)}async getMenus(a){return this.request(`/chefs/${a}/menus`)}async createMenu(a,b){return this.request(`/chefs/${a}/menus`,{method:"POST",body:JSON.stringify(b)})}async updateMenu(a,b){return this.request(`/menus/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteMenu(a){return this.request(`/menus/${a}`,{method:"DELETE"})}async createMenuItem(a,b){return this.request(`/menus/${a}/items`,{method:"POST",body:JSON.stringify(b)})}async updateMenuItem(a,b){return this.request(`/menu-items/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteMenuItem(a){return this.request(`/menu-items/${a}`,{method:"DELETE"})}async getOrders(a){let b=a?.status?`?status=${a.status}`:"";return this.request(`/orders${b}`)}async getOrder(a){return this.request(`/orders/${a}`)}async acceptOrder(a,b){return this.request(`/orders/${a}/accept`,{method:"PATCH",body:JSON.stringify({estimatedPrepTime:b})})}async rejectOrder(a,b){return this.request(`/orders/${a}/reject`,{method:"PATCH",body:JSON.stringify({reason:b})})}async markOrderReady(a){return this.request(`/orders/${a}/ready`,{method:"PATCH"})}async getEarnings(a){let b=a?`?period=${a}`:"";return this.request(`/chefs/me/earnings${b}`)}};a.s(["api",0,b])},94019,a=>{"use strict";let b=(0,a.i(8462).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],94019)},51522,a=>{"use strict";let b=(0,a.i(8462).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],51522)},69585,a=>{"use strict";let b=(0,a.i(8462).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],69585)},30910,a=>{"use strict";let b=(0,a.i(8462).default)("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);a.s(["ChefHat",()=>b],30910)},62470,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(2904),e=a.i(12007),f=a.i(69585),g=a.i(51522),h=a.i(94019),i=a.i(30910);function j(){let[a,j]=(0,c.useState)([]),[k,l]=(0,c.useState)("pending"),[m,n]=(0,c.useState)(!0);(0,c.useEffect)(()=>{o()},[]);let o=async()=>{try{let a=await d.api.getOrders();j(a.data||[])}catch(a){console.error("Failed to fetch orders:",a)}finally{n(!1)}},p=async a=>{try{await d.api.acceptOrder(a,30),e.default.success("Order accepted!"),o()}catch(a){e.default.error(a.message||"Failed to accept order")}},q=async a=>{try{await d.api.rejectOrder(a,"Unable to fulfill at this time"),e.default.success("Order rejected"),o()}catch(a){e.default.error(a.message||"Failed to reject order")}},r=async a=>{try{await d.api.markOrderReady(a),e.default.success("Order marked as ready!"),o()}catch(a){e.default.error(a.message||"Failed to mark order ready")}},s=a=>`$${(a/100).toFixed(2)}`,t=a.filter(a=>{switch(k){case"pending":return"payment_confirmed"===a.status;case"active":return["accepted","preparing","ready_for_pickup"].includes(a.status);case"completed":return["delivered","cancelled","rejected"].includes(a.status);default:return!0}});return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Orders"}),(0,b.jsx)("p",{className:"text-muted mt-1",children:"Manage incoming orders"})]}),(0,b.jsx)("div",{className:"flex gap-2",children:["pending","active","completed","all"].map(a=>(0,b.jsx)("button",{onClick:()=>l(a),className:`px-4 py-2 rounded-xl font-medium transition-colors ${k===a?"bg-primary-500 text-white":"bg-white text-muted hover:bg-gray-50"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))}),m?(0,b.jsx)("div",{className:"card text-center py-12 text-muted",children:"Loading orders..."}):0===t.length?(0,b.jsxs)("div",{className:"card text-center py-12",children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:"ðŸ“‹"}),(0,b.jsxs)("p",{className:"text-muted",children:["No ",k," orders"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:t.map(a=>(0,b.jsxs)("div",{className:"card",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("h3",{className:"font-bold text-ink",children:["Order #",a.id.slice(-6)]}),(0,b.jsx)("span",{className:`badge ${{payment_confirmed:"bg-yellow-100 text-yellow-700",accepted:"bg-blue-100 text-blue-700",preparing:"bg-orange-100 text-orange-700",ready_for_pickup:"bg-green-100 text-green-700",delivered:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700",rejected:"bg-red-100 text-red-700"}[a.status]||"bg-gray-100 text-gray-700"}`,children:a.status.replace(/_/g," ")})]}),(0,b.jsx)("p",{className:"text-sm text-muted mt-1",children:new Date(a.createdAt).toLocaleString()})]}),(0,b.jsx)("p",{className:"text-xl font-bold text-ink",children:s(a.total)})]}),(0,b.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:a.items?.map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between py-1",children:[(0,b.jsxs)("span",{className:"text-ink",children:[a.quantity,"x ",a.name]}),(0,b.jsx)("span",{className:"text-muted",children:s(a.price*a.quantity)})]},c))}),(0,b.jsxs)("p",{className:"text-sm text-muted mb-4",children:["ðŸ“ ",a.deliveryAddress?.street,", ",a.deliveryAddress?.city]}),"payment_confirmed"===a.status&&(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>p(a.id),className:"flex-1 btn-primary flex items-center justify-center gap-2",children:[(0,b.jsx)(f.Check,{size:18}),"Accept Order"]}),(0,b.jsxs)("button",{onClick:()=>q(a.id),className:"flex-1 bg-red-100 text-red-600 font-semibold py-3 px-6 rounded-xl hover:bg-red-200 transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(g.X,{size:18}),"Reject"]})]}),"accepted"===a.status&&(0,b.jsxs)("button",{onClick:()=>p(a.id),className:"w-full bg-orange-500 text-white font-semibold py-3 px-6 rounded-xl hover:bg-orange-600 transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(i.ChefHat,{size:18}),"Start Preparing"]}),"preparing"===a.status&&(0,b.jsxs)("button",{onClick:()=>r(a.id),className:"w-full bg-green-500 text-white font-semibold py-3 px-6 rounded-xl hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(f.Check,{size:18}),"Mark Ready for Pickup"]}),"ready_for_pickup"===a.status&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-600 py-3",children:[(0,b.jsx)(h.Clock,{size:18}),(0,b.jsx)("span",{className:"font-medium",children:"Waiting for driver pickup"})]})]},a.id))})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=apps_chef-dashboard_d2225b20._.js.map