(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53751,e=>{"use strict";let t=new class{baseUrl;getToken;constructor(){this.baseUrl="http://localhost:9001/api/v2",this.getToken=()=>{{let e=localStorage.getItem("chef-auth-storage");if(e){let t=JSON.parse(e);return t.state?.accessToken||null}}return null}}async request(e,t={}){let s=this.getToken(),r={"Content-Type":"application/json",...t.headers};s&&(r.Authorization=`Bearer ${s}`);let a=await fetch(`${this.baseUrl}${e}`,{...t,headers:r}),i=await a.json();if(!a.ok)throw Error(i.message||"An error occurred");return i}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...e,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(e){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(e)})}async updateChefProfile(e,t){return this.request(`/chefs/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async toggleVacationMode(e){return this.request(`/chefs/${e}/toggle-vacation-mode`,{method:"POST"})}async getStripeOnboardingLink(e){return this.request(`/chefs/${e}/stripe/onboard`,{method:"POST"})}async getStripeStatus(e){return this.request(`/chefs/${e}/stripe/status`)}async getMenus(e){return this.request(`/chefs/${e}/menus`)}async createMenu(e,t){return this.request(`/chefs/${e}/menus`,{method:"POST",body:JSON.stringify(t)})}async updateMenu(e,t){return this.request(`/menus/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteMenu(e){return this.request(`/menus/${e}`,{method:"DELETE"})}async createMenuItem(e,t){return this.request(`/menus/${e}/items`,{method:"POST",body:JSON.stringify(t)})}async updateMenuItem(e,t){return this.request(`/menu-items/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteMenuItem(e){return this.request(`/menu-items/${e}`,{method:"DELETE"})}async getOrders(e){let t=e?.status?`?status=${e.status}`:"";return this.request(`/orders${t}`)}async getOrder(e){return this.request(`/orders/${e}`)}async acceptOrder(e,t){return this.request(`/orders/${e}/accept`,{method:"PATCH",body:JSON.stringify({estimatedPrepTime:t})})}async rejectOrder(e,t){return this.request(`/orders/${e}/reject`,{method:"PATCH",body:JSON.stringify({reason:t})})}async markOrderReady(e){return this.request(`/orders/${e}/ready`,{method:"PATCH"})}async getEarnings(e){let t=e?`?period=${e}`:"";return this.request(`/chefs/me/earnings${t}`)}};e.s(["api",0,t])},37346,e=>{"use strict";let t=(0,e.i(80402).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],37346)},87564,e=>{"use strict";let t=(0,e.i(80402).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],87564)},90672,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(22016),a=e.i(4917),i=e.i(53751),n=e.i(11541),d=e.i(15246),l=e.i(37346),c=e.i(87564);function o(){let{chef:e,user:o}=(0,a.useAuthStore)(),[h,m]=(0,s.useState)({todayOrders:0,pendingOrders:0,todayEarnings:0,avgPrepTime:0}),[u,x]=(0,s.useState)([]),[g,p]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let t=(await i.api.getOrders()).data||[],s=new Date().toDateString(),r=t.filter(e=>new Date(e.createdAt).toDateString()===s),a=t.filter(e=>["payment_confirmed","accepted","preparing"].includes(e.status));m({todayOrders:r.length,pendingOrders:a.length,todayEarnings:r.reduce((e,t)=>e+t.total,0),avgPrepTime:e?.averagePrepTime||30}),x(t.slice(0,5))}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{p(!1)}})()},[e]);let y=e=>`$${(e/100).toFixed(2)}`;return e?(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-ink",children:["Welcome back, ",o?.firstName||"Chef","! ðŸ‘‹"]}),(0,t.jsx)("p",{className:"text-muted mt-1",children:"Here's how your kitchen is doing today"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,t.jsx)(n.ClipboardList,{className:"text-blue-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted",children:"Today's Orders"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-ink",children:h.todayOrders})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-orange-100 rounded-xl",children:(0,t.jsx)(l.Clock,{className:"text-orange-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted",children:"Pending Orders"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-ink",children:h.pendingOrders})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-green-100 rounded-xl",children:(0,t.jsx)(d.DollarSign,{className:"text-green-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted",children:"Today's Earnings"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-ink",children:y(h.todayEarnings)})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-100 rounded-xl",children:(0,t.jsx)(c.TrendingUp,{className:"text-purple-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted",children:"Avg Prep Time"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-ink",children:[h.avgPrepTime," min"]})]})]})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-ink",children:"Recent Orders"}),(0,t.jsx)(r.default,{href:"/dashboard/orders",className:"text-primary-500 font-medium hover:underline",children:"View all â†’"})]}),g?(0,t.jsx)("div",{className:"text-center py-8 text-muted",children:"Loading..."}):0===u.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted",children:"No orders yet"}):(0,t.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,t.jsxs)(r.default,{href:`/dashboard/orders/${e.id}`,className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium text-ink",children:["Order #",e.id.slice(-6)]}),(0,t.jsxs)("p",{className:"text-sm text-muted",children:[e.itemCount||1," items â€¢ ",new Date(e.createdAt).toLocaleTimeString()]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-bold text-ink",children:y(e.total)}),(0,t.jsx)("span",{className:{payment_confirmed:"badge badge-pending",accepted:"badge badge-accepted",preparing:"badge badge-preparing",ready_for_pickup:"badge badge-ready",delivered:"badge badge-delivered"}[e.status]||"badge bg-gray-100 text-gray-700",children:e.status.replace(/_/g," ")})]})]},e.id))})]})]}):(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"card text-center py-12",children:[(0,t.jsx)("div",{className:"text-6xl mb-6",children:"ðŸ‘¨â€ðŸ³"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-ink mb-4",children:"Set Up Your Kitchen"}),(0,t.jsx)("p",{className:"text-muted mb-8",children:"Complete your chef profile to start receiving orders"}),(0,t.jsx)(r.default,{href:"/dashboard/settings",className:"btn-primary",children:"Complete Setup"})]})})}e.s(["default",()=>o])}]);