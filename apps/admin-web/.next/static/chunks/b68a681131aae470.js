(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57163,e=>{"use strict";let s=(0,e.i(77453).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],57163)},48470,e=>{"use strict";let s=(0,e.i(77453).default)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],48470)},23338,e=>{"use strict";let s=(0,e.i(77453).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>s],23338)},55891,e=>{"use strict";let s=(0,e.i(77453).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>s],55891)},95511,e=>{"use strict";let s=(0,e.i(77453).default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],95511)},92309,e=>{"use strict";let s=(0,e.i(77453).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],92309)},62380,e=>{"use strict";let s=(0,e.i(77453).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>s],62380)},37164,e=>{"use strict";let s=(0,e.i(77453).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>s],37164)},69426,e=>{"use strict";let s=(0,e.i(77453).default)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],69426)},4462,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(58888),l=e.i(47571),i=e.i(62380),c=e.i(92309),r=e.i(69426),n=e.i(95511),d=e.i(48470),h=e.i(46606),m=e.i(55891),o=e.i(23338),x=e.i(57163),u=e.i(37164);let p=(0,e.i(77453).default)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function j({message:e,type:t,onClose:l}){return(0,a.useEffect)(()=>{let e=setTimeout(l,3e3);return()=>clearTimeout(e)},[l]),(0,s.jsxs)("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 animate-in slide-in-from-right ${"success"===t?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:["success"===t?(0,s.jsx)(c.CheckCircle,{className:"w-5 h-5"}):(0,s.jsx)(r.XCircle,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:e}),(0,s.jsx)("button",{onClick:l,className:"ml-2 hover:opacity-80",children:(0,s.jsx)(u.X,{className:"w-4 h-4"})})]})}function f(){let[e,f]=(0,a.useState)([]),[b,N]=(0,a.useState)(!0),[g,v]=(0,a.useState)("pending"),[y,w]=(0,a.useState)(""),[k,C]=(0,a.useState)(null),[S,_]=(0,a.useState)(""),[A,z]=(0,a.useState)(!1),[M,R]=(0,a.useState)(new Set),[F,P]=(0,a.useState)(new Set),[L,$]=(0,a.useState)(null),T=function(e,s){let[t,l]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let s=setTimeout(()=>l(e),300);return()=>clearTimeout(s)},[e,300]),t}(y,0),X=(0,a.useCallback)((e,s)=>{$({message:e,type:s})},[]),q=(0,a.useCallback)((e,s)=>{R(a=>{let t=new Set(a);return s?t.add(e):t.delete(e),t})},[]),E=(0,a.useCallback)(async()=>{N(!0);try{let e=await t.api.getChefs({status:"all"===g?void 0:g,search:T||void 0});f(e.chefs)}catch(e){console.error("Failed to fetch chefs:",e),f([{id:"1",business_name:"Maria's Kitchen",user_email:"maria@example.com",user_phone:"+1 234-567-8900",address:"123 Main St, Hamilton, ON",cuisine_type:["Italian","Mediterranean"],rating:0,total_orders:0,verification_status:"pending",created_at:new Date().toISOString()},{id:"2",business_name:"Chen's Dumplings",user_email:"chen@example.com",user_phone:"+1 234-567-8901",address:"456 Oak Ave, Burlington, ON",cuisine_type:["Chinese","Asian"],rating:4.8,total_orders:156,verification_status:"approved",created_at:new Date().toISOString()}])}finally{N(!1)}},[g,T]);(0,a.useEffect)(()=>{E()},[E]);let O=(0,a.useCallback)(async e=>{q(e.id,!0);try{await t.api.approveChef(e.id),X(`${e.business_name} approved successfully`,"success"),E()}catch(e){console.error("Failed to approve chef:",e),X("Failed to approve chef","error")}finally{q(e.id,!1)}},[E,q,X]),D=(0,a.useCallback)(async()=>{if(k&&S){q(k.id,!0);try{await t.api.rejectChef(k.id,S),X(`${k.business_name} rejected`,"success"),z(!1),_(""),C(null),E()}catch(e){console.error("Failed to reject chef:",e),X("Failed to reject chef","error")}finally{k&&q(k.id,!1)}}},[k,S,E,q,X]),B=(0,a.useCallback)(e=>{P(s=>{let a=new Set(s);return a.has(e)?a.delete(e):a.add(e),a})},[]),H=(0,a.useMemo)(()=>{if(!y)return e;let s=y.toLowerCase();return e.filter(e=>e.business_name.toLowerCase().includes(s)||e.user_email.toLowerCase().includes(s)||e.address.toLowerCase().includes(s))},[e,y]),I=(0,a.useCallback)(()=>{P(e=>e.size===H.length?new Set:new Set(H.map(e=>e.id)))},[H]),K=(0,a.useCallback)(async()=>{if(0!==F.size&&confirm(`Approve ${F.size} chefs?`)){q("bulk",!0);try{await Promise.all(Array.from(F).map(e=>t.api.approveChef(e))),X(`${F.size} chefs approved`,"success"),P(new Set),E()}catch(e){console.error("Failed to bulk approve chefs:",e),X("Failed to approve some chefs","error")}finally{q("bulk",!1)}}},[F,E,q,X]),V=(0,a.useCallback)(async()=>{if(0===F.size)return;let e=prompt("Enter rejection reason:");if(e){q("bulk",!0);try{await Promise.all(Array.from(F).map(s=>t.api.rejectChef(s,e))),X(`${F.size} chefs rejected`,"success"),P(new Set),E()}catch(e){console.error("Failed to bulk reject chefs:",e),X("Failed to reject some chefs","error")}finally{q("bulk",!1)}}},[F,E,q,X]),U=(0,a.useMemo)(()=>({pending:e.filter(e=>"pending"===e.verification_status).length,approved:e.filter(e=>"approved"===e.verification_status).length,rejected:e.filter(e=>"rejected"===e.verification_status).length,total:e.length}),[e]),Z=M.has("bulk"),G=F.size===H.length&&H.length>0;return(0,s.jsxs)("div",{className:"space-y-6",children:[L&&(0,s.jsx)(j,{message:L.message,type:L.type,onClose:()=>$(null)}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Chef Management"}),(0,s.jsx)("p",{className:"text-muted text-sm",children:"Review applications and manage home chefs"})]})}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted"}),(0,s.jsx)("input",{type:"text",value:y,onChange:e=>w(e.target.value),placeholder:"Search by name, email, or address...",className:"input pl-10","aria-label":"Search chefs"})]}),(0,s.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"input w-full sm:w-48","aria-label":"Filter by status",children:[(0,s.jsx)("option",{value:"all",children:"All Statuses"}),(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"approved",children:"Approved"}),(0,s.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)("div",{className:"card bg-amber-50 border-amber-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(x.AlertCircle,{className:"w-5 h-5 text-amber-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-amber-700",children:U.pending}),(0,s.jsx)("p",{className:"text-sm text-amber-600",children:"Pending Review"})]})]})}),(0,s.jsx)("div",{className:"card bg-emerald-50 border-emerald-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(c.CheckCircle,{className:"w-5 h-5 text-emerald-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-emerald-700",children:U.approved}),(0,s.jsx)("p",{className:"text-sm text-emerald-600",children:"Approved"})]})]})}),(0,s.jsx)("div",{className:"card bg-red-50 border-red-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(r.XCircle,{className:"w-5 h-5 text-red-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-red-700",children:U.rejected}),(0,s.jsx)("p",{className:"text-sm text-red-600",children:"Rejected"})]})]})}),(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(l.ChefHat,{className:"w-5 h-5 text-muted"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-ink",children:U.total}),(0,s.jsx)("p",{className:"text-sm text-muted",children:"Total Chefs"})]})]})})]}),F.size>0&&(0,s.jsx)("div",{className:"card bg-blue-50 border-blue-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:G,onChange:I,className:"w-4 h-4 rounded accent-blue-500","aria-label":"Select all"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:[F.size," selected"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:K,disabled:Z,className:"btn-primary text-sm flex items-center gap-2",children:[Z?(0,s.jsx)(p,{className:"w-4 h-4 animate-spin"}):null,"Approve Selected"]}),(0,s.jsxs)("button",{onClick:V,disabled:Z,className:"btn-danger text-sm flex items-center gap-2",children:[Z?(0,s.jsx)(p,{className:"w-4 h-4 animate-spin"}):null,"Reject Selected"]})]})]})}),(0,s.jsx)("div",{className:"card",children:b?(0,s.jsxs)("div",{className:"flex items-center justify-center py-12 text-muted gap-2",children:[(0,s.jsx)(p,{className:"w-5 h-5 animate-spin"}),(0,s.jsx)("span",{children:"Loading chefs..."})]}):0===H.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(l.ChefHat,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,s.jsx)("p",{className:"text-muted",children:"No chefs found"})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50",children:[(0,s.jsx)("th",{className:"table-header w-10",children:(0,s.jsx)("input",{type:"checkbox",checked:G,onChange:I,className:"w-4 h-4 rounded accent-blue-500","aria-label":"Select all chefs"})}),(0,s.jsx)("th",{className:"table-header",children:"Business"}),(0,s.jsx)("th",{className:"table-header",children:"Contact"}),(0,s.jsx)("th",{className:"table-header",children:"Location"}),(0,s.jsx)("th",{className:"table-header",children:"Cuisine"}),(0,s.jsx)("th",{className:"table-header",children:"Stats"}),(0,s.jsx)("th",{className:"table-header",children:"Status"}),(0,s.jsx)("th",{className:"table-header",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:H.map(e=>{let a=M.has(e.id);return(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"table-cell",children:(0,s.jsx)("input",{type:"checkbox",checked:F.has(e.id),onChange:()=>B(e.id),className:"w-4 h-4 rounded accent-blue-500","aria-label":`Select ${e.business_name}`})}),(0,s.jsx)("td",{className:"table-cell",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-orange-100 flex items-center justify-center",children:(0,s.jsx)(l.ChefHat,{className:"w-5 h-5 text-orange-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-ink",children:e.business_name}),(0,s.jsxs)("p",{className:"text-xs text-muted",children:["Applied"," ",new Date(e.created_at).toLocaleDateString()]})]})]})}),(0,s.jsx)("td",{className:"table-cell",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted",children:[(0,s.jsx)(o.Mail,{className:"w-3 h-3"}),e.user_email]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted",children:[(0,s.jsx)(m.Phone,{className:"w-3 h-3"}),e.user_phone]})]})}),(0,s.jsx)("td",{className:"table-cell",children:(0,s.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,s.jsx)(d.MapPin,{className:"w-4 h-4 text-muted"}),e.address]})}),(0,s.jsx)("td",{className:"table-cell",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:e.cuisine_type.map(e=>(0,s.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs",children:e},e))})}),(0,s.jsx)("td",{className:"table-cell",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(h.Star,{className:"w-4 h-4 text-amber-500"}),(0,s.jsx)("span",{className:"font-medium",children:e.rating.toFixed(1)})]}),(0,s.jsxs)("p",{className:"text-xs text-muted",children:[e.total_orders," orders"]})]})}),(0,s.jsx)("td",{className:"table-cell",children:(0,s.jsx)("span",{className:`badge ${"approved"===e.verification_status?"badge-approved":"rejected"===e.verification_status?"badge-rejected":"badge-pending"}`,children:e.verification_status})}),(0,s.jsx)("td",{className:"table-cell",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details","aria-label":`View details for ${e.business_name}`,children:(0,s.jsx)(n.Eye,{className:"w-4 h-4 text-muted"})}),"pending"===e.verification_status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>O(e),disabled:a,className:"p-2 hover:bg-emerald-100 rounded-lg transition-colors disabled:opacity-50",title:"Approve","aria-label":`Approve ${e.business_name}`,children:a?(0,s.jsx)(p,{className:"w-4 h-4 text-emerald-600 animate-spin"}):(0,s.jsx)(c.CheckCircle,{className:"w-4 h-4 text-emerald-600"})}),(0,s.jsx)("button",{onClick:()=>{C(e),z(!0)},disabled:a,className:"p-2 hover:bg-red-100 rounded-lg transition-colors disabled:opacity-50",title:"Reject","aria-label":`Reject ${e.business_name}`,children:(0,s.jsx)(r.XCircle,{className:"w-4 h-4 text-red-600"})})]})]})})]},e.id)})})]})})}),A&&k&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"reject-modal-title",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{id:"reject-modal-title",className:"text-lg font-bold text-ink",children:"Reject Application"}),(0,s.jsx)("button",{onClick:()=>{z(!1),_("")},className:"p-1 hover:bg-gray-100 rounded-lg","aria-label":"Close modal",children:(0,s.jsx)(u.X,{className:"w-5 h-5"})})]}),(0,s.jsxs)("p",{className:"text-sm text-muted mb-4",children:["Rejecting application for"," ",(0,s.jsx)("span",{className:"font-medium text-ink",children:k.business_name})]}),(0,s.jsx)("textarea",{value:S,onChange:e=>_(e.target.value),placeholder:"Reason for rejection (will be sent to applicant)...",rows:4,className:"input mb-4","aria-label":"Rejection reason",autoFocus:!0}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{z(!1),_("")},className:"flex-1 btn-secondary",children:"Cancel"}),(0,s.jsx)("button",{onClick:D,disabled:!S||M.has(k.id),className:"flex-1 btn-danger flex items-center justify-center gap-2",children:M.has(k.id)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{className:"w-4 h-4 animate-spin"}),"Rejecting..."]}):"Reject"})]})]})})]})}e.s(["default",()=>f],4462)}]);