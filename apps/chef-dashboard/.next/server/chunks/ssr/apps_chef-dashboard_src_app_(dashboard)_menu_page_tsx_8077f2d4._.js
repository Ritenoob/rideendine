module.exports=[84450,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38795),f=a.i(8462);let g=(0,f.default)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);var h=a.i(99049);let i=(0,f.default)("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),j=(0,f.default)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);function k({item:a,onEdit:d,onDelete:e,onToggleAvailability:f}){let[k,l]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[a.image?(0,b.jsx)("img",{src:a.image,alt:a.name,className:"w-20 h-20 rounded-lg object-cover flex-shrink-0"}):(0,b.jsx)("div",{className:"w-20 h-20 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("span",{className:"text-gray-400 text-xs",children:"No image"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:a.name}),(0,b.jsxs)("p",{className:"font-bold text-blue-600 text-lg flex-shrink-0",children:["$",(a.price/100).toFixed(2)]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[(0,b.jsx)("span",{className:"inline-block px-2 py-1 rounded-full bg-gray-100",children:a.category}),(0,b.jsxs)("span",{children:[a.preparationTime,"min prep"]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[(0,b.jsx)("button",{onClick:()=>f(a.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600 hover:text-gray-900",title:a.available?"Mark unavailable":"Mark available",children:a.available?(0,b.jsx)(i,{className:"w-5 h-5 text-green-600"}):(0,b.jsx)(j,{className:"w-5 h-5 text-gray-400"})}),(0,b.jsx)("button",{onClick:()=>d(a),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600 hover:text-blue-700",title:"Edit item",children:(0,b.jsx)(g,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>l(!k),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600 hover:text-red-700",title:"Delete item",children:(0,b.jsx)(h.Trash2,{className:"w-5 h-5"})})]})]}),k&&(0,b.jsxs)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-red-900 font-medium mb-2",children:"Delete this item?"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>l(!1),className:"px-3 py-1 border border-red-300 text-red-700 rounded text-sm hover:bg-red-100 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{e(a.id),l(!1)},className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]}),!a.available&&(0,b.jsx)("div",{className:"mt-3 p-2 bg-gray-100 rounded text-sm text-gray-600 text-center font-medium",children:"Currently Unavailable"})]})}var l=a.i(51522);let m=(0,f.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),n=["Appetizers","Mains","Sides","Desserts","Beverages"];function o({item:a,isOpen:d,onClose:e,onSave:f}){let[g,h]=(0,c.useState)({name:"",description:"",price:0,category:"Mains",image:void 0,available:!0,preparationTime:15}),[i,j]=(0,c.useState)(null),[k,o]=(0,c.useState)({});(0,c.useEffect)(()=>{a?(h(a),j(a.image||null)):(h({name:"",description:"",price:0,category:"Mains",image:void 0,available:!0,preparationTime:15}),j(null)),o({})},[a,d]);let p=b=>{let c;b.preventDefault(),c={},g.name.trim()||(c.name="Item name is required"),g.description.trim()||(c.description="Description is required"),g.price<=0&&(c.price="Price must be greater than 0"),g.preparationTime<=0&&(c.preparationTime="Preparation time must be greater than 0"),o(c),0===Object.keys(c).length&&(f({...g,id:a?.id||`item-${Date.now()}`}),e())};return d?(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Menu Item":"Add New Item"}),(0,b.jsx)("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(l.X,{className:"w-6 h-6 text-gray-600"})})]}),(0,b.jsxs)("form",{onSubmit:p,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Item Image"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[i?(0,b.jsxs)("div",{className:"relative w-32 h-32",children:[(0,b.jsx)("img",{src:i,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}),(0,b.jsx)("button",{type:"button",onClick:()=>{j(null),h({...g,image:void 0})},className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:(0,b.jsx)(l.X,{className:"w-4 h-4"})})]}):(0,b.jsxs)("label",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-gray-400 transition-colors",children:[(0,b.jsx)(m,{className:"w-6 h-6 text-gray-400 mb-1"}),(0,b.jsx)("span",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(b){let a=new FileReader;a.onload=a=>{let b=a.target?.result;j(b),h({...g,image:b})},a.readAsDataURL(b)}},className:"hidden"})]}),(0,b.jsxs)("div",{className:"flex-1 text-sm text-gray-600",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 mb-1",children:"Upload Image"}),(0,b.jsx)("p",{children:"JPG, PNG up to 5MB"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Item Name"}),(0,b.jsx)("input",{type:"text",value:g.name,onChange:a=>h({...g,name:a.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.name?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Pasta Carbonara"}),k.name&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:k.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Description"}),(0,b.jsx)("textarea",{value:g.description,onChange:a=>h({...g,description:a.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe your dish...",rows:3}),k.description&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:k.description})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Category"}),(0,b.jsx)("select",{value:g.category,onChange:a=>h({...g,category:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:n.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Price ($)"}),(0,b.jsx)("input",{type:"number",step:"0.01",value:(g.price/100).toFixed(2),onChange:a=>h({...g,price:Math.round(100*parseFloat(a.target.value))}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),k.price&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:k.price})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:"Preparation Time (minutes)"}),(0,b.jsx)("input",{type:"number",value:g.preparationTime,onChange:a=>h({...g,preparationTime:parseInt(a.target.value)||0}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${k.preparationTime?"border-red-500":"border-gray-300"}`,placeholder:"15"}),k.preparationTime&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:k.preparationTime})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:g.available,onChange:a=>h({...g,available:a.target.checked}),className:"w-4 h-4 rounded border-gray-300 cursor-pointer"}),(0,b.jsx)("label",{className:"text-sm font-medium text-gray-900 cursor-pointer",children:"Available for ordering"})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 p-6 bg-gray-50 flex gap-3 justify-end sticky bottom-0",children:[(0,b.jsx)("button",{onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancel"}),(0,b.jsx)("button",{onClick:p,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:a?"Update Item":"Add Item"})]})]})}):null}var p=a.i(15442),q=a.i(140),r=a.i(92310);function s(){let a=(0,d.useRouter)(),{token:f}=(0,e.useAuthStore)(),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),[n,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)("all"),x=["Appetizers","Mains","Sides","Desserts","Beverages"];(0,c.useEffect)(()=>{f?(async()=>{try{j(!0);let a=[{id:"1",name:"Margherita Pizza",description:"Fresh mozzarella, basil, tomato sauce on thin crust",priceCents:1899,category:"Mains",prepTimeMinutes:12,dietaryTags:["vegetarian"],isAvailable:!0,createdAt:new Date},{id:"2",name:"Caesar Salad",description:"Romaine lettuce, parmesan, croutons, classic Caesar dressing",priceCents:999,category:"Appetizers",prepTimeMinutes:5,dietaryTags:["vegetarian"],isAvailable:!0,createdAt:new Date},{id:"3",name:"Grilled Salmon",description:"Atlantic salmon fillet with lemon butter and herbs",priceCents:2299,category:"Mains",prepTimeMinutes:18,dietaryTags:["gluten-free"],isAvailable:!0,createdAt:new Date},{id:"4",name:"Tiramisu",description:"Classic Italian dessert with mascarpone and espresso",priceCents:799,category:"Desserts",prepTimeMinutes:0,dietaryTags:["vegetarian"],isAvailable:!0,createdAt:new Date}];h(a),m(null)}catch(a){m("Failed to load menu items"),console.error(a)}finally{j(!1)}})():a.push("/login")},[f,a]);let y=async a=>{try{let b={id:Date.now().toString(),...a,isAvailable:!0,createdAt:new Date};h([...g,b]),s(!1)}catch(a){console.error("Failed to create menu item:",a)}},z=async(a,b)=>{try{h(g.map(c=>c.id===a?{...c,...b}:c)),u(null)}catch(a){console.error("Failed to update menu item:",a)}},A=async a=>{if(confirm("Are you sure you want to delete this item?"))try{h(g.filter(b=>b.id!==a))}catch(a){console.error("Failed to delete menu item:",a)}},B=async a=>{try{h(g.map(b=>b.id===a?{...b,isAvailable:!b.isAvailable}:b))}catch(a){console.error("Failed to toggle availability:",a)}},C="all"===v?g:g.filter(a=>a.category===v);return i?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(q.Loader2,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading menu..."})]})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your menu items and availability"})]}),(0,b.jsxs)("button",{onClick:()=>{u(null),s(!n)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,b.jsx)(p.Plus,{className:"w-5 h-5"}),"Add Item"]})]}),l&&(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[(0,b.jsx)(r.AlertCircle,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-red-900",children:l}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"text-red-700 hover:text-red-900 text-sm mt-2",children:"Try again"})]})]}),n&&(0,b.jsx)(o,{item:t,onSubmit:a=>{t?z(t.id,a):y(a)},onCancel:()=>{s(!1),u(null)},categories:x}),(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)("button",{onClick:()=>w("all"),className:`px-4 py-2 rounded-full transition-colors ${"all"===v?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Items"}),x.map(a=>(0,b.jsx)("button",{onClick:()=>w(a),className:`px-4 py-2 rounded-full transition-colors ${v===a?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a},a))]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===C.length?(0,b.jsx)("div",{className:"col-span-full bg-white rounded-lg shadow p-12 text-center",children:(0,b.jsx)("p",{className:"text-gray-500",children:"No items in this category"})}):C.map(a=>(0,b.jsx)(k,{item:a,onEdit:()=>{u(a),s(!0)},onDelete:()=>A(a.id),onToggleAvailability:()=>B(a.id)},a.id))})]})}a.s(["default",()=>s],84450)}];

//# sourceMappingURL=apps_chef-dashboard_src_app_%28dashboard%29_menu_page_tsx_8077f2d4._.js.map