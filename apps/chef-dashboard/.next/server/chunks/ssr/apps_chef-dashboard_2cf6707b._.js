module.exports=[2904,a=>{"use strict";let b=new class{baseUrl;getToken;constructor(){this.baseUrl="http://localhost:9001/api/v2",this.getToken=()=>null}async request(a,b={}){let c=this.getToken(),d={"Content-Type":"application/json",...b.headers};c&&(d.Authorization=`Bearer ${c}`);let e=await fetch(`${this.baseUrl}${a}`,{...b,headers:d}),f=await e.json();if(!e.ok)throw Error(f.message||"An error occurred");return f}async login(a,b){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})})}async register(a){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...a,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(a){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(a)})}async updateChefProfile(a,b){return this.request(`/chefs/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async toggleVacationMode(a){return this.request(`/chefs/${a}/toggle-vacation-mode`,{method:"POST"})}async getStripeOnboardingLink(a){return this.request(`/chefs/${a}/stripe/onboard`,{method:"POST"})}async getStripeStatus(a){return this.request(`/chefs/${a}/stripe/status`)}async getMenus(a){return this.request(`/chefs/${a}/menus`)}async createMenu(a,b){return this.request(`/chefs/${a}/menus`,{method:"POST",body:JSON.stringify(b)})}async updateMenu(a,b){return this.request(`/menus/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteMenu(a){return this.request(`/menus/${a}`,{method:"DELETE"})}async createMenuItem(a,b){return this.request(`/menus/${a}/items`,{method:"POST",body:JSON.stringify(b)})}async updateMenuItem(a,b){return this.request(`/menu-items/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteMenuItem(a){return this.request(`/menu-items/${a}`,{method:"DELETE"})}async getOrders(a){let b=a?.status?`?status=${a.status}`:"";return this.request(`/orders${b}`)}async getOrder(a){return this.request(`/orders/${a}`)}async acceptOrder(a,b){return this.request(`/orders/${a}/accept`,{method:"PATCH",body:JSON.stringify({estimatedPrepTime:b})})}async rejectOrder(a,b){return this.request(`/orders/${a}/reject`,{method:"PATCH",body:JSON.stringify({reason:b})})}async markOrderReady(a){return this.request(`/orders/${a}/ready`,{method:"PATCH"})}async getEarnings(a){let b=a?`?period=${a}`:"";return this.request(`/chefs/me/earnings${b}`)}};a.s(["api",0,b])},10188,a=>{"use strict";let b=(0,a.i(8462).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],10188)},12371,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(2904),e=a.i(97074),f=a.i(10188);let g=(0,a.i(8462).default)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var h=a.i(23299);function i(){let[a,i]=(0,c.useState)("week"),[j,k]=(0,c.useState)({total:0,orders:0,commission:0}),[l,m]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{m(!0);try{let b=(await d.api.getOrders()).data||[],c=new Date,e=b.filter(b=>{let d=new Date(b.createdAt);if("today"===a)return d.toDateString()===c.toDateString();if("week"===a){let a=new Date(c.getTime()-6048e5);return d>=a}{let a=new Date(c.getTime()-2592e6);return d>=a}}).filter(a=>"delivered"===a.status),f=e.reduce((a,b)=>a+b.subtotal,0),g=Math.round(.15*f);k({total:f-g,orders:e.length,commission:g})}catch(a){console.error("Failed to fetch earnings:",a)}finally{m(!1)}})()},[a]);let n=a=>`$${(a/100).toFixed(2)}`;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Earnings"}),(0,b.jsx)("p",{className:"text-muted mt-1",children:"Track your revenue and payouts"})]}),(0,b.jsx)("div",{className:"flex gap-2",children:["today","week","month"].map(c=>(0,b.jsx)("button",{onClick:()=>i(c),className:`px-4 py-2 rounded-xl font-medium transition-colors ${a===c?"bg-primary-500 text-white":"bg-white text-muted hover:bg-gray-50"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),l?(0,b.jsx)("div",{className:"card text-center py-12 text-muted",children:"Loading..."}):(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-green-100 rounded-xl",children:(0,b.jsx)(e.DollarSign,{className:"text-green-600",size:24})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted",children:"Net Earnings"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-ink",children:n(j.total)})]})]})}),(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,b.jsx)(g,{className:"text-blue-600",size:24})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted",children:"Completed Orders"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-ink",children:j.orders})]})]})}),(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-orange-100 rounded-xl",children:(0,b.jsx)(f.TrendingUp,{className:"text-orange-600",size:24})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted",children:"Platform Fee (15%)"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-ink",children:n(j.commission)})]})]})})]}),(0,b.jsxs)("div",{className:"card",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-100 rounded-xl",children:(0,b.jsx)(h.CreditCard,{className:"text-purple-600",size:24})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-ink",children:"Payouts"}),(0,b.jsx)("p",{className:"text-sm text-muted",children:"Via Stripe Connect"})]})]}),(0,b.jsx)("p",{className:"text-muted mb-4",children:"Payouts are processed automatically through Stripe Connect. Funds are typically available in your bank account within 2-3 business days after delivery completion."}),(0,b.jsx)("div",{className:"bg-gray-50 rounded-xl p-4",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted",children:"Next Payout"}),(0,b.jsx)("p",{className:"font-bold text-ink",children:n(j.total)})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-muted",children:"Expected"}),(0,b.jsx)("p",{className:"font-medium text-ink",children:"2-3 business days"})]})]})})]})]})}a.s(["default",()=>i],12371)}];

//# sourceMappingURL=apps_chef-dashboard_2cf6707b._.js.map