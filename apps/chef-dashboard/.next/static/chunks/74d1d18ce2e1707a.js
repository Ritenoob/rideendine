(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53751,e=>{"use strict";let t=new class{baseUrl;getToken;constructor(){this.baseUrl="http://localhost:9001/api/v2",this.getToken=()=>{{let e=localStorage.getItem("chef-auth-storage");if(e){let t=JSON.parse(e);return t.state?.accessToken||null}}return null}}async request(e,t={}){let s=this.getToken(),a={"Content-Type":"application/json",...t.headers};s&&(a.Authorization=`Bearer ${s}`);let r=await fetch(`${this.baseUrl}${e}`,{...t,headers:a}),i=await r.json();if(!r.ok)throw Error(i.message||"An error occurred");return i}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...e,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(e){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(e)})}async updateChefProfile(e,t){return this.request(`/chefs/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async toggleVacationMode(e){return this.request(`/chefs/${e}/toggle-vacation-mode`,{method:"POST"})}async getStripeOnboardingLink(e){return this.request(`/chefs/${e}/stripe/onboard`,{method:"POST"})}async getStripeStatus(e){return this.request(`/chefs/${e}/stripe/status`)}async getMenus(e){return this.request(`/chefs/${e}/menus`)}async createMenu(e,t){return this.request(`/chefs/${e}/menus`,{method:"POST",body:JSON.stringify(t)})}async updateMenu(e,t){return this.request(`/menus/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteMenu(e){return this.request(`/menus/${e}`,{method:"DELETE"})}async createMenuItem(e,t){return this.request(`/menus/${e}/items`,{method:"POST",body:JSON.stringify(t)})}async updateMenuItem(e,t){return this.request(`/menu-items/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteMenuItem(e){return this.request(`/menu-items/${e}`,{method:"DELETE"})}async getOrders(e){let t=e?.status?`?status=${e.status}`:"";return this.request(`/orders${t}`)}async getOrder(e){return this.request(`/orders/${e}`)}async acceptOrder(e,t){return this.request(`/orders/${e}/accept`,{method:"PATCH",body:JSON.stringify({estimatedPrepTime:t})})}async rejectOrder(e,t){return this.request(`/orders/${e}/reject`,{method:"PATCH",body:JSON.stringify({reason:t})})}async markOrderReady(e){return this.request(`/orders/${e}/ready`,{method:"PATCH"})}async getEarnings(e){let t=e?`?period=${e}`:"";return this.request(`/chefs/me/earnings${t}`)}};e.s(["api",0,t])},39142,e=>{"use strict";let t=(0,e.i(80402).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],39142)},95552,e=>{"use strict";let t=(0,e.i(80402).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],95552)},80906,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(53751),r=e.i(4917),i=e.i(81824),n=e.i(39142),l=e.i(95552),c=e.i(80402);let d=(0,c.default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,c.default)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);function m(){let{chef:e}=(0,r.useAuthStore)(),[c,m]=(0,s.useState)([]),[u,h]=(0,s.useState)(!0),[x,p]=(0,s.useState)(!1),[y,g]=(0,s.useState)(null),[f,j]=(0,s.useState)({name:"",description:"",price:"",category:"",preparationTime:"30"});(0,s.useEffect)(()=>{e?.id&&b()},[e]);let b=async()=>{try{let t=await a.api.getMenus(e.id);m(t),t.length>0&&!y&&g(t[0].id)}catch(e){console.error("Failed to fetch menus:",e)}finally{h(!1)}},N=async()=>{try{await a.api.createMenu(e.id,{name:"Main Menu",isActive:!0}),i.default.success("Menu created!"),b()}catch(e){i.default.error(e.message||"Failed to create menu")}},v=async()=>{if(!y||!f.name||!f.price||!f.category)return void i.default.error("Please fill in all required fields");try{await a.api.createMenuItem(y,{name:f.name,description:f.description,price:Math.round(100*parseFloat(f.price)),category:f.category,preparationTime:parseInt(f.preparationTime),isAvailable:!0}),i.default.success("Item added!"),p(!1),j({name:"",description:"",price:"",category:"",preparationTime:"30"}),b()}catch(e){i.default.error(e.message||"Failed to add item")}},k=async(e,t)=>{try{await a.api.updateMenuItem(e,{isAvailable:!t}),i.default.success(t?"Item hidden":"Item visible"),b()}catch(e){i.default.error(e.message||"Failed to update item")}},T=async e=>{if(confirm("Are you sure you want to delete this item?"))try{await a.api.deleteMenuItem(e),i.default.success("Item deleted"),b()}catch(e){i.default.error(e.message||"Failed to delete item")}},S=c.find(e=>e.id===y);return e?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Menu Management"}),(0,t.jsx)("p",{className:"text-muted mt-1",children:"Add and manage your dishes"})]}),(0,t.jsxs)("button",{onClick:()=>p(!0),className:"btn-primary flex items-center gap-2",children:[(0,t.jsx)(n.Plus,{size:18}),"Add Item"]})]}),u?(0,t.jsx)("div",{className:"card text-center py-12 text-muted",children:"Loading menu..."}):0===c.length?(0,t.jsxs)("div",{className:"card text-center py-12",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"ðŸ½ï¸"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-ink mb-2",children:"No menu yet"}),(0,t.jsx)("p",{className:"text-muted mb-6",children:"Create your first menu to start adding items"}),(0,t.jsx)("button",{onClick:N,className:"btn-primary",children:"Create Menu"})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"grid gap-4",children:[S?.items.map(e=>{let s;return(0,t.jsxs)("div",{className:"card flex items-center gap-4",children:[e.imageUrl?(0,t.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-20 h-20 rounded-xl object-cover"}):(0,t.jsx)("div",{className:"w-20 h-20 rounded-xl bg-gray-100 flex items-center justify-center text-2xl",children:"ðŸ½ï¸"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-bold text-ink",children:e.name}),!e.isAvailable&&(0,t.jsx)("span",{className:"badge bg-gray-100 text-gray-600",children:"Hidden"})]}),(0,t.jsx)("p",{className:"text-sm text-muted line-clamp-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,t.jsx)("span",{className:"font-bold text-primary-500",children:(s=e.price,`$${(s/100).toFixed(2)}`)}),(0,t.jsx)("span",{className:"text-sm text-muted",children:e.category}),(0,t.jsxs)("span",{className:"text-sm text-muted",children:[e.preparationTime," min"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>k(e.id,e.isAvailable),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:e.isAvailable?"Hide item":"Show item",children:e.isAvailable?(0,t.jsx)(d,{size:18,className:"text-green-600"}):(0,t.jsx)(o,{size:18,className:"text-gray-400"})}),(0,t.jsx)("button",{onClick:()=>T(e.id),className:"p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete item",children:(0,t.jsx)(l.Trash2,{size:18,className:"text-red-500"})})]})]},e.id)}),S?.items.length===0&&(0,t.jsx)("div",{className:"card text-center py-8 text-muted",children:'No items yet. Click "Add Item" to get started.'})]})}),x&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"card max-w-md w-full",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-ink mb-6",children:"Add Menu Item"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Name *"}),(0,t.jsx)("input",{type:"text",className:"input",placeholder:"Butter Chicken",value:f.name,onChange:e=>j({...f,name:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Description"}),(0,t.jsx)("textarea",{className:"input",placeholder:"Describe your dish...",rows:2,value:f.description,onChange:e=>j({...f,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Price ($) *"}),(0,t.jsx)("input",{type:"number",step:"0.01",className:"input",placeholder:"12.99",value:f.price,onChange:e=>j({...f,price:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Prep Time (min)"}),(0,t.jsx)("input",{type:"number",className:"input",placeholder:"30",value:f.preparationTime,onChange:e=>j({...f,preparationTime:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Category *"}),(0,t.jsxs)("select",{className:"input",value:f.category,onChange:e=>j({...f,category:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"Select category"}),(0,t.jsx)("option",{value:"Appetizers",children:"Appetizers"}),(0,t.jsx)("option",{value:"Main Course",children:"Main Course"}),(0,t.jsx)("option",{value:"Sides",children:"Sides"}),(0,t.jsx)("option",{value:"Desserts",children:"Desserts"}),(0,t.jsx)("option",{value:"Drinks",children:"Drinks"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>p(!1),className:"flex-1 btn-secondary",children:"Cancel"}),(0,t.jsx)("button",{onClick:v,className:"flex-1 btn-primary",children:"Add Item"})]})]})})]}):(0,t.jsx)("div",{className:"card text-center py-12",children:(0,t.jsx)("p",{className:"text-muted",children:"Complete your chef profile first to manage your menu"})})}e.s(["default",()=>m],80906)}]);