(()=>{var e={};e.id=832,e.ids=[832],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7544:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>c});var a=s(482),r=s(9108),n=s(2563),i=s.n(n),l=s(8300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c=["",{children:["dashboard",{children:["stripe",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8682)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/stripe/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3096)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/stripe/page.tsx"],m="/dashboard/stripe/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/stripe/page",pathname:"/dashboard/stripe",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},756:(e,t,s)=>{Promise.resolve().then(s.bind(s,6462))},6138:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5545:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2768:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},6462:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(5344),r=s(3729),n=s(8428),i=s(8286),l=s(6548),d=s(5674);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,s(9224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var o=s(2768),m=s(6138),x=s(5545);function p(){let e=(0,n.useRouter)(),{chef:t,user:s}=(0,i.t)(),[p,u]=(0,r.useState)(null),[h,b]=(0,r.useState)(!0),[y,g]=(0,r.useState)(!1),[j,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&N()},[t]);let N=async()=>{if(t?.id)try{b(!0);let e=await l.h.getStripeStatus(t.id);u(e)}catch(e){console.error("Failed to fetch Stripe status:",e),u(null)}finally{b(!1)}},v=async()=>{if(t?.id)try{g(!0);let e=await l.h.getStripeOnboardingLink(t.id);window.location.href=e.url}catch(e){console.error("Failed to start onboarding:",e),alert(e.message||"Failed to start Stripe onboarding")}finally{g(!1)}},k=async()=>{if(t?.id)try{f(!0);let e=await l.h.getStripeOnboardingLink(t.id);window.open(e.url,"_blank")}catch(e){console.error("Failed to open Stripe dashboard:",e),alert(e.message||"Failed to open Stripe dashboard")}finally{f(!1)}};if(!t)return a.jsx("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"card text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-6",children:"\uD83D\uDC68‍\uD83C\uDF73"}),a.jsx("h2",{className:"text-2xl font-bold text-ink mb-4",children:"Complete Your Profile First"}),a.jsx("p",{className:"text-muted mb-8",children:"You need to complete your chef profile before setting up payments"}),a.jsx("button",{onClick:()=>e.push("/dashboard/settings"),className:"btn-primary",children:"Go to Settings"})]})});if(h)return a.jsx("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"card text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-500 border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted",children:"Loading Stripe status..."})]})});let w=p?.onboardingComplete&&p?.chargesEnabled&&p?.payoutsEnabled,S=p?.requiresInformation||p&&!p.onboardingComplete;return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-ink mb-2",children:"\uD83D\uDCB3 Stripe Payments"}),a.jsx("p",{className:"text-muted",children:"Connect your Stripe account to receive payments from customers"})]}),a.jsx("div",{className:"card",children:p?w?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(c,{className:"text-green-600",size:32})}),a.jsx("h2",{className:"text-xl font-bold text-ink mb-2",children:"✅ You're All Set!"}),a.jsx("p",{className:"text-muted mb-6",children:"Your Stripe account is fully connected and ready to receive payments."}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 max-w-md mx-auto mb-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:"✅"}),a.jsx("p",{className:"text-sm text-muted",children:"Charges Enabled"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:"\uD83D\uDCB8"}),a.jsx("p",{className:"text-sm text-muted",children:"Payouts Enabled"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:"\uD83D\uDCCB"}),a.jsx("p",{className:"text-sm text-muted",children:"Details Complete"})]})]}),(0,a.jsxs)("button",{onClick:k,disabled:j,className:"btn-secondary inline-flex items-center gap-2",children:[a.jsx(o.Z,{size:16}),j?"Opening...":"Open Stripe Dashboard"]})]}):S?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(m.Z,{className:"text-yellow-600",size:32})}),a.jsx("h2",{className:"text-xl font-bold text-ink mb-2",children:"Action Required"}),a.jsx("p",{className:"text-muted mb-6",children:"Your Stripe onboarding is incomplete. Please complete the remaining steps."}),p.requirements&&(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6 text-left max-w-md mx-auto",children:[a.jsx("p",{className:"font-semibold text-ink mb-2",children:"Missing Information:"}),a.jsx("ul",{className:"space-y-1",children:p.requirements.currently_due.length>0&&a.jsx(a.Fragment,{children:p.requirements.currently_due.map((e,t)=>(0,a.jsxs)("li",{className:"text-sm text-muted flex items-start gap-2",children:[a.jsx("span",{className:"text-yellow-600 mt-0.5",children:"•"}),a.jsx("span",{children:e.replace(/_/g," ")})]},t))})})]}),a.jsx("button",{onClick:v,disabled:y,className:"btn-primary",children:y?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Redirecting..."]}):"Complete Onboarding"})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(x.Z,{className:"text-blue-600",size:32})}),a.jsx("h2",{className:"text-xl font-bold text-ink mb-2",children:"Onboarding In Progress"}),a.jsx("p",{className:"text-muted mb-6",children:"Your Stripe account is being verified. This may take a few minutes."}),a.jsx("button",{onClick:N,className:"btn-secondary",children:"Refresh Status"})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(d.Z,{className:"text-orange-600",size:32})}),a.jsx("h2",{className:"text-xl font-bold text-ink mb-2",children:"Connect with Stripe"}),a.jsx("p",{className:"text-muted mb-6 max-w-md mx-auto",children:"To receive payments, you'll need to connect a Stripe account. This takes about 5-10 minutes."}),a.jsx("button",{onClick:v,disabled:y,className:"btn-primary",children:y?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Redirecting to Stripe..."]}):"Start Stripe Onboarding"})]})}),(0,a.jsxs)("div",{className:"card bg-blue-50 border-blue-200",children:[a.jsx("h3",{className:"font-semibold text-ink mb-3",children:"ℹ️ About Stripe Connect"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-muted",children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"What is Stripe?"})," Stripe is a secure payment processor that handles all customer payments. You'll receive payments directly to your bank account."]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"How long does onboarding take?"})," About 5-10 minutes. You'll need your business details, bank account information, and a valid ID."]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"When do I get paid?"})," Payments are transferred to your bank account on a rolling 2-day basis after each successful delivery."]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Platform fee:"})," RideNDine takes a 15% platform fee on each order. You receive 85% of the order subtotal."]})]})]}),p&&(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"font-semibold text-ink mb-4",children:"Account Details"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-muted",children:"Account ID"}),a.jsx("span",{className:"font-mono text-sm text-ink",children:p.accountId})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-muted",children:"Onboarding Complete"}),a.jsx("span",{className:p.onboardingComplete?"text-green-600":"text-yellow-600",children:p.onboardingComplete?"✅ Yes":"⏳ In Progress"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-muted",children:"Charges Enabled"}),a.jsx("span",{className:p.chargesEnabled?"text-green-600":"text-red-600",children:p.chargesEnabled?"✅ Yes":"❌ No"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-muted",children:"Payouts Enabled"}),a.jsx("span",{className:p.payoutsEnabled?"text-green-600":"text-red-600",children:p.payoutsEnabled?"✅ Yes":"❌ No"})]})]})]})]})}},8682:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>i});let a=(0,s(6843).createProxy)(String.raw`/home/nygmaee/Desktop/rideendine/apps/chef-dashboard/src/app/dashboard/stripe/page.tsx`),{__esModule:r,$$typeof:n}=a,i=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[261,321,717,967],()=>s(7544));module.exports=a})();