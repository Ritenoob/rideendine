module.exports=[2904,a=>{"use strict";let b=new class{baseUrl;getToken;constructor(){this.baseUrl="http://localhost:9001/api/v2",this.getToken=()=>null}async request(a,b={}){let c=this.getToken(),d={"Content-Type":"application/json",...b.headers};c&&(d.Authorization=`Bearer ${c}`);let e=await fetch(`${this.baseUrl}${a}`,{...b,headers:d}),f=await e.json();if(!e.ok)throw Error(f.message||"An error occurred");return f}async login(a,b){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})})}async register(a){return this.request("/auth/register",{method:"POST",body:JSON.stringify({...a,role:"chef"})})}async getChefProfile(){return this.request("/chefs/me")}async applyAsChef(a){return this.request("/chefs/apply",{method:"POST",body:JSON.stringify(a)})}async updateChefProfile(a,b){return this.request(`/chefs/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async toggleVacationMode(a){return this.request(`/chefs/${a}/toggle-vacation-mode`,{method:"POST"})}async getStripeOnboardingLink(a){return this.request(`/chefs/${a}/stripe/onboard`,{method:"POST"})}async getStripeStatus(a){return this.request(`/chefs/${a}/stripe/status`)}async getMenus(a){return this.request(`/chefs/${a}/menus`)}async createMenu(a,b){return this.request(`/chefs/${a}/menus`,{method:"POST",body:JSON.stringify(b)})}async updateMenu(a,b){return this.request(`/menus/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteMenu(a){return this.request(`/menus/${a}`,{method:"DELETE"})}async createMenuItem(a,b){return this.request(`/menus/${a}/items`,{method:"POST",body:JSON.stringify(b)})}async updateMenuItem(a,b){return this.request(`/menu-items/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteMenuItem(a){return this.request(`/menu-items/${a}`,{method:"DELETE"})}async getOrders(a){let b=a?.status?`?status=${a.status}`:"";return this.request(`/orders${b}`)}async getOrder(a){return this.request(`/orders/${a}`)}async acceptOrder(a,b){return this.request(`/orders/${a}/accept`,{method:"PATCH",body:JSON.stringify({estimatedPrepTime:b})})}async rejectOrder(a,b){return this.request(`/orders/${a}/reject`,{method:"PATCH",body:JSON.stringify({reason:b})})}async markOrderReady(a){return this.request(`/orders/${a}/ready`,{method:"PATCH"})}async getEarnings(a){let b=a?`?period=${a}`:"";return this.request(`/chefs/me/earnings${b}`)}};a.s(["api",0,b])},92310,a=>{"use strict";let b=(0,a.i(8462).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92310)},69585,a=>{"use strict";let b=(0,a.i(8462).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],69585)},69081,a=>{"use strict";let b=(0,a.i(8462).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],69081)},52707,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(2904),e=a.i(38795),f=a.i(12007),g=a.i(69081),h=a.i(69585),i=a.i(92310);let j=["American","Chinese","Indian","Italian","Japanese","Korean","Mexican","Thai","Vietnamese","Mediterranean","Caribbean","Soul Food","BBQ","Vegan","Other"];function k(){let{chef:a,setChef:k,user:l}=(0,e.useAuthStore)(),[m,n]=(0,c.useState)({businessName:"",description:"",address:"",city:"",state:"",zipCode:"",cuisineTypes:[],minimumOrder:"",deliveryRadius:"",averagePrepTime:""}),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&(n({businessName:a.businessName||"",description:a.description||"",address:a.address||"",city:a.city||"",state:a.state||"",zipCode:a.zipCode||"",cuisineTypes:a.cuisineTypes||[],minimumOrder:(a.minimumOrder/100).toString()||"",deliveryRadius:a.deliveryRadius?.toString()||"",averagePrepTime:a.averagePrepTime?.toString()||""}),d.api.getStripeStatus(a.id).then(p).catch(()=>{}))},[a]);let u=a=>{n({...m,[a.target.name]:a.target.value})},v=async()=>{if(!m.businessName||!m.address||!m.city)return void f.default.error("Please fill in required fields");r(!0);try{if(a){let b=await d.api.updateChefProfile(a.id,{businessName:m.businessName,description:m.description,address:m.address,city:m.city,state:m.state,zipCode:m.zipCode,cuisineTypes:m.cuisineTypes,minimumOrder:Math.round(100*parseFloat(m.minimumOrder||"10")),deliveryRadius:parseInt(m.deliveryRadius||"10"),averagePrepTime:parseInt(m.averagePrepTime||"30")});k(b),f.default.success("Profile updated!")}else{let a=await d.api.applyAsChef({businessName:m.businessName,description:m.description,address:m.address,city:m.city,state:m.state,zipCode:m.zipCode,cuisineTypes:m.cuisineTypes,minimumOrder:Math.round(100*parseFloat(m.minimumOrder||"10")),deliveryRadius:parseInt(m.deliveryRadius||"10"),averagePrepTime:parseInt(m.averagePrepTime||"30"),lat:43.2207,lng:-79.7651});k(a),f.default.success("Chef profile created!")}}catch(a){f.default.error(a.message||"Failed to save")}finally{r(!1)}},w=async()=>{if(a){t(!0);try{let{url:b}=await d.api.getStripeOnboardingLink(a.id);window.open(b,"_blank")}catch(a){f.default.error(a.message||"Failed to start Stripe onboarding")}finally{t(!1)}}},x=async()=>{if(a)try{let b=await d.api.toggleVacationMode(a.id);k(b),f.default.success(b.isOnVacation?"Vacation mode enabled":"Vacation mode disabled")}catch(a){f.default.error(a.message||"Failed to toggle vacation mode")}};return(0,b.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Settings"}),(0,b.jsx)("p",{className:"text-muted mt-1",children:"Manage your chef profile and preferences"})]}),(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-ink mb-6",children:"Business Information"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Business Name *"}),(0,b.jsx)("input",{type:"text",name:"businessName",className:"input",placeholder:"Chef John's Kitchen",value:m.businessName,onChange:u})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Description"}),(0,b.jsx)("textarea",{name:"description",className:"input",rows:3,placeholder:"Tell customers about your cooking...",value:m.description,onChange:u})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Address *"}),(0,b.jsx)("input",{type:"text",name:"address",className:"input",placeholder:"123 Main St",value:m.address,onChange:u})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"City *"}),(0,b.jsx)("input",{type:"text",name:"city",className:"input",placeholder:"Hamilton",value:m.city,onChange:u})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"State"}),(0,b.jsx)("input",{type:"text",name:"state",className:"input",placeholder:"ON",value:m.state,onChange:u})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"ZIP"}),(0,b.jsx)("input",{type:"text",name:"zipCode",className:"input",placeholder:"L8P 1A1",value:m.zipCode,onChange:u})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Cuisine Types"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:j.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>{let b;return b=m.cuisineTypes.includes(a)?m.cuisineTypes.filter(b=>b!==a):[...m.cuisineTypes,a],void n({...m,cuisineTypes:b})},className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${m.cuisineTypes.includes(a)?"bg-primary-500 text-white":"bg-gray-100 text-muted hover:bg-gray-200"}`,children:a},a))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Min Order ($)"}),(0,b.jsx)("input",{type:"number",name:"minimumOrder",className:"input",placeholder:"10",value:m.minimumOrder,onChange:u})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Radius (mi)"}),(0,b.jsx)("input",{type:"number",name:"deliveryRadius",className:"input",placeholder:"10",value:m.deliveryRadius,onChange:u})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-ink mb-2",children:"Prep Time (min)"}),(0,b.jsx)("input",{type:"number",name:"averagePrepTime",className:"input",placeholder:"30",value:m.averagePrepTime,onChange:u})]})]})]}),(0,b.jsx)("button",{onClick:v,className:"btn-primary mt-6",disabled:q,children:q?"Saving...":"Save Changes"})]}),a&&(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-ink mb-4",children:"Payment Setup"}),o?.complete?(0,b.jsxs)("div",{className:"flex items-center gap-3 text-green-600 bg-green-50 p-4 rounded-xl",children:[(0,b.jsx)(h.Check,{size:20}),(0,b.jsx)("span",{className:"font-medium",children:"Stripe Connect is set up and payouts are enabled"})]}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-orange-600 bg-orange-50 p-4 rounded-xl mb-4",children:[(0,b.jsx)(i.AlertCircle,{size:20}),(0,b.jsx)("span",{className:"font-medium",children:"Complete Stripe setup to receive payments"})]}),(0,b.jsxs)("button",{onClick:w,className:"btn-primary flex items-center gap-2",disabled:s,children:[s?"Loading...":"Set Up Stripe Connect",(0,b.jsx)(g.ExternalLink,{size:16})]})]})]}),a&&(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-ink",children:"Vacation Mode"}),(0,b.jsx)("p",{className:"text-sm text-muted mt-1",children:"Temporarily stop receiving orders"})]}),(0,b.jsx)("button",{onClick:x,className:`px-4 py-2 rounded-xl font-medium transition-colors ${a.isOnVacation?"bg-green-100 text-green-700 hover:bg-green-200":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:a.isOnVacation?"Disable Vacation":"Enable Vacation"})]})})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=apps_chef-dashboard_f06c40b2._.js.map