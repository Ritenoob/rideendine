(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58888,77453,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_API_URL||"http://localhost:9001",r=new class{token=null;setToken(e){this.token=e}async request(e,r={}){let s={"Content-Type":"application/json",...r.headers};this.token&&(s.Authorization=`Bearer ${this.token}`);let n=await fetch(`${t}${e}`,{...r,headers:s}),a=await n.json();if(!n.ok)throw Error(a.message||a.error||"Request failed");return a}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async getDashboardStats(){return this.request("/admin/dashboard/stats")}async getRecentActivity(){return this.request("/admin/dashboard/activity")}async getUsers(e){let t=new URLSearchParams;return e?.role&&t.set("role",e.role),e?.search&&t.set("search",e.search),e?.page&&t.set("page",e.page.toString()),this.request(`/admin/users?${t}`)}async updateUser(e,t){return this.request(`/admin/users/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async suspendUser(e){return this.request(`/admin/users/${e}/suspend`,{method:"POST"})}async activateUser(e){return this.request(`/admin/users/${e}/activate`,{method:"POST"})}async getUserDetails(e){return this.request(`/admin/users/${e}`)}async getChefs(e){let t=new URLSearchParams;return e?.status&&t.set("status",e.status),e?.search&&t.set("search",e.search),this.request(`/admin/chefs?${t}`)}async approveChef(e){return this.request(`/admin/chefs/${e}/approve`,{method:"PATCH"})}async rejectChef(e,t){return this.request(`/admin/chefs/${e}/reject`,{method:"PATCH",body:JSON.stringify({reason:t})})}async getChefDetails(e){return this.request(`/admin/chefs/${e}`)}async getDrivers(e){let t=new URLSearchParams;return e?.status&&t.set("status",e.status),e?.search&&t.set("search",e.search),this.request(`/admin/drivers?${t}`)}async approveDriver(e){return this.request(`/admin/drivers/${e}/approve`,{method:"PATCH"})}async rejectDriver(e,t){return this.request(`/admin/drivers/${e}/reject`,{method:"PATCH",body:JSON.stringify({reason:t})})}async getOrders(e){let t=new URLSearchParams;return e?.status&&t.set("status",e.status),e?.search&&t.set("search",e.search),e?.page&&t.set("page",e.page.toString()),this.request(`/admin/orders?${t}`)}async getOrderDetails(e){return this.request(`/admin/orders/${e}`)}async refundOrder(e,t){return this.request(`/admin/orders/${e}/refund`,{method:"POST",body:JSON.stringify({reason:t})})}async getCommissionStats(e){return this.request(`/admin/commission?period=${e}`)}async getPayouts(e){let t=new URLSearchParams;return e?.status&&t.set("status",e.status),this.request(`/admin/payouts?${t}`)}async getReviews(e){let t=new URLSearchParams;return e?.type&&t.set("revieweeType",e.type),e?.flagged&&t.set("flagged","true"),this.request(`/admin/reviews?${t}`)}async removeReview(e,t){return this.request(`/admin/reviews/${e}`,{method:"DELETE",body:JSON.stringify({reason:t})})}async flagReview(e){return this.request(`/admin/reviews/${e}/flag`,{method:"POST"})}async unflagReview(e){return this.request(`/admin/reviews/${e}/unflag`,{method:"POST"})}async getSettings(){return this.request("/admin/settings")}async updateSettings(e){return this.request("/admin/settings",{method:"PATCH",body:JSON.stringify(e)})}async getDisputes(e){let t=new URLSearchParams;return e?.status&&t.set("status",e.status),e?.priority&&t.set("priority",e.priority),this.request(`/admin/disputes?${t}`)}async getDisputeDetails(e){return this.request(`/admin/disputes/${e}`)}async updateDisputeStatus(e,t){return this.request(`/admin/disputes/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})})}async resolveDispute(e,t){return this.request(`/admin/disputes/${e}/resolve`,{method:"POST",body:JSON.stringify(t)})}async addDisputeMessage(e,t){return this.request(`/admin/disputes/${e}/messages`,{method:"POST",body:JSON.stringify({message:t})})}};e.s(["api",0,r],58888);var s=e.i(71645),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:u,className:o="",children:l,...d},c)=>(0,s.createElement)("svg",{ref:c,...n,width:a,height:a,stroke:r,strokeWidth:u?24*Number(i)/Number(a):i,className:["lucide",`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,o].join(" "),...d},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};e.s(["default",()=>a],77453)},57163,e=>{"use strict";let t=(0,e.i(77453).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],57163)},94067,e=>{"use strict";let t=(0,e.i(77453).default)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);e.s(["Shield",()=>t],94067)},23338,e=>{"use strict";let t=(0,e.i(77453).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],23338)},18566,(e,t,r)=>{t.exports=e.r(76562)},55838,(e,t,r)=>{"use strict";var s=e.r(71645),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useState,i=s.useEffect,u=s.useLayoutEffect,o=s.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var d="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=a({inst:{value:r,getSnapshot:t}}),n=s[0].inst,d=s[1];return u(function(){n.value=r,n.getSnapshot=t,l(n)&&d({inst:n})},[e,r,t]),i(function(){return l(n)&&d({inst:n}),e(function(){l(n)&&d({inst:n})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,r)=>{"use strict";var s=e.r(71645),n=e.r(2239),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useSyncExternalStore,u=s.useRef,o=s.useEffect,l=s.useMemo,d=s.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,s,n){var c=u(null);if(null===c.current){var h={hasValue:!1,value:null};c.current=h}else h=c.current;var m=i(e,(c=l(function(){function e(e){if(!o){if(o=!0,i=e,e=s(e),void 0!==n&&h.hasValue){var t=h.value;if(n(t,e))return u=t}return u=e}if(t=u,a(i,e))return t;var r=s(e);return void 0!==n&&n(t,r)?(i=e,t):(i=e,u=r)}var i,u,o=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,s,n]))[0],c[1]);return o(function(){h.hasValue=!0,h.value=m},[m]),d(m),m}},30224,(e,t,r)=>{"use strict";t.exports=e.r(52822)},37738,e=>{"use strict";let t={get url(){return`file://${e.P("node_modules/zustand/esm/vanilla.mjs")}`}},r=e=>{let r,s=new Set,n=(e,t)=>{let n="function"==typeof e?e(r):e;if(!Object.is(n,r)){let e=r;r=(null!=t?t:"object"!=typeof n||null===n)?n:Object.assign({},r,n),s.forEach(t=>t(r,e))}},a=()=>r,i={setState:n,getState:a,getInitialState:()=>u,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{(t.env?t.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},u=r=e(n,a,i);return i};var s=e.i(71645),n=e.i(30224);let a={get url(){return`file://${e.P("node_modules/zustand/esm/index.mjs")}`}},{useDebugValue:i}=s.default,{useSyncExternalStoreWithSelector:u}=n.default,o=!1,l={get url(){return`file://${e.P("node_modules/zustand/esm/middleware.mjs")}`}},d=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>d(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>d(t)(e)}}},c=(e=>{(a.env?a.env.MODE:void 0)!=="production"&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?e?r(e):r:e,s=(e,r)=>(function(e,t=e=>e,r){(a.env?a.env.MODE:void 0)!=="production"&&r&&!o&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),o=!0);let s=u(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return i(s),s})(t,e,r);return Object.assign(s,t),s})(((e,t)=>{if("getStorage"in t||"serialize"in t||"deserialize"in t)return(l.env?l.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),(r,s,n)=>{let a,i,u={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,l=new Set,c=new Set;try{a=u.getStorage()}catch(e){}if(!a)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),r(...e)},s,n);let h=d(u.serialize),m=()=>{let e,t=h({state:u.partialize({...s()}),version:u.version}).then(e=>a.setItem(u.name,e)).catch(t=>{e=t});if(e)throw e;return t},g=n.setState;n.setState=(e,t)=>{g(e,t),m()};let f=e((...e)=>{r(...e),m()},s,n),v=()=>{var e;if(!a)return;o=!1,l.forEach(e=>e(s()));let t=(null==(e=u.onRehydrateStorage)?void 0:e.call(u,s()))||void 0;return d(a.getItem.bind(a))(u.name).then(e=>{if(e)return u.deserialize(e)}).then(e=>{if(e)if("number"!=typeof e.version||e.version===u.version)return e.state;else{if(u.migrate)return u.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return r(i=u.merge(e,null!=(t=s())?t:f),!0),m()}).then(()=>{null==t||t(i,void 0),o=!0,c.forEach(e=>e(i))}).catch(e=>{null==t||t(void 0,e)})};return n.persist={setOptions:e=>{u={...u,...e},e.getStorage&&(a=e.getStorage())},clearStorage:()=>{null==a||a.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},v(),i||f};return(r,s,n)=>{let a,i={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let s=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(s):s(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},u=!1,o=new Set,l=new Set,c=i.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...e)},s,n);let h=()=>{let e=i.partialize({...s()});return c.setItem(i.name,{state:e,version:i.version})},m=n.setState;n.setState=(e,t)=>{m(e,t),h()};let g=e((...e)=>{r(...e),h()},s,n);n.getInitialState=()=>g;let f=()=>{var e,t;if(!c)return;u=!1,o.forEach(e=>{var t;return e(null!=(t=s())?t:g)});let n=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=s())?e:g))||void 0;return d(c.getItem.bind(c))(i.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];else{if(i.migrate)return[!0,i.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[n,u]=e;if(r(a=i.merge(u,null!=(t=s())?t:g),!0),n)return h()}).then(()=>{null==n||n(a,void 0),a=s(),u=!0,l.forEach(e=>e(a))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>u,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},i.skipHydration||f(),a||g}})(e=>({admin:null,token:null,isAuthenticated:!1,setAuth:(t,r)=>e({admin:t,token:r,isAuthenticated:!0}),clearAuth:()=>e({admin:null,token:null,isAuthenticated:!1})}),{name:"admin-auth"}));e.s(["useAuthStore",0,c],37738)},82175,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),n=e.i(37738),a=e.i(58888),i=e.i(94067),u=e.i(23338);let o=(0,e.i(77453).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var l=e.i(57163);function d(){let e=(0,s.useRouter)(),{setAuth:d}=(0,n.useAuthStore)(),[c,h]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[f,v]=(0,r.useState)(!1),[y,p]=(0,r.useState)(""),S=async t=>{t.preventDefault(),p(""),v(!0);try{let t=await a.api.login(c,m);if(t.user?.role!=="admin"&&t.user?.role!=="super_admin"&&t.user?.role!=="support")throw Error("Access denied. Admin privileges required.");a.api.setToken(t.accessToken),d(t.user,t.accessToken),e.push("/dashboard")}catch(e){p(e.message||"Login failed")}finally{v(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-accent to-accent-3 mb-4",children:(0,t.jsx)(i.Shield,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Admin Portal"}),(0,t.jsx)("p",{className:"text-muted text-sm mt-1",children:"RideNDine Management Console"})]}),(0,t.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[y&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-50 text-red-700 text-sm",children:[(0,t.jsx)(l.AlertCircle,{className:"w-4 h-4 flex-shrink-0"}),y]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1.5",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted"}),(0,t.jsx)("input",{type:"email",value:c,onChange:e=>h(e.target.value),className:"input pl-10",placeholder:"admin@ridendine.com",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1.5",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted"}),(0,t.jsx)("input",{type:"password",value:m,onChange:e=>g(e.target.value),className:"input pl-10",placeholder:"Enter password",required:!0})]})]}),(0,t.jsx)("button",{type:"submit",disabled:f,className:"w-full btn-primary py-3",children:f?"Signing in...":"Sign In"})]}),(0,t.jsx)("p",{className:"text-center text-xs text-muted mt-6",children:"Authorized personnel only. All access is logged."})]})})})}e.s(["default",()=>d],82175)}]);