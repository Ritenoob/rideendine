(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57163,e=>{"use strict";let t=(0,e.i(77453).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],57163)},74763,e=>{"use strict";let t=(0,e.i(77453).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],74763)},92309,e=>{"use strict";let t=(0,e.i(77453).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],92309)},48470,e=>{"use strict";let t=(0,e.i(77453).default)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],48470)},51524,e=>{"use strict";let t=(0,e.i(77453).default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>t],51524)},68717,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(58888),i=e.i(47329),r=e.i(31289),l=e.i(77453);let n=(0,l.default)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var c=e.i(74763),m=e.i(48470),d=e.i(94067);let x=(0,l.default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var o=e.i(57163),u=e.i(92309),h=e.i(51524);let p={chef_commission_rate:15,driver_commission_rate:85,platform_fee_rate:0,tax_rate:13,min_delivery_fee:299,max_delivery_fee:999,base_delivery_fee:299,per_km_rate:50,max_delivery_radius_km:15,min_order_amount:1500,max_prep_time_minutes:60,order_timeout_minutes:5,min_driver_rating:4,max_concurrent_deliveries:3,maintenance_mode:!1,new_registrations_enabled:!0};function f(){let[e,l]=(0,s.useState)(p),[f,v]=(0,s.useState)(p),[j,b]=(0,s.useState)(!0),[g,N]=(0,s.useState)(!1),[y,_]=(0,s.useState)(!1),[k,C]=(0,s.useState)(!1);(0,s.useEffect)(()=>{w()},[]),(0,s.useEffect)(()=>{C(JSON.stringify(e)!==JSON.stringify(f))},[e,f]);let w=async()=>{b(!0);try{let e=await a.api.getSettings();l(e.settings),v(e.settings)}catch(e){console.error("Failed to fetch settings:",e),l(p),v(p)}finally{b(!1)}},S=async()=>{N(!0),_(!1);try{await a.api.updateSettings(e),v(e),_(!0),setTimeout(()=>_(!1),3e3)}catch(e){console.error("Failed to save settings:",e),alert("Failed to save settings. Please try again.")}finally{N(!1)}},M=(e,t)=>{l(s=>({...s,[e]:t}))};return j?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-pulse text-muted",children:"Loading settings..."})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-ink",children:"Platform Settings"}),(0,t.jsx)("p",{className:"text-muted text-sm",children:"Configure platform-wide settings"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[k&&(0,t.jsxs)("button",{type:"button",onClick:()=>{confirm("Are you sure you want to discard all changes?")&&l(f)},className:"btn-secondary flex items-center gap-2",children:[(0,t.jsx)(h.RotateCcw,{className:"w-4 h-4"}),"Discard Changes"]}),(0,t.jsxs)("button",{type:"button",onClick:S,disabled:g||!k,className:"btn-primary flex items-center gap-2",children:[(0,t.jsx)(x,{className:"w-4 h-4"}),g?"Saving...":y?"Saved!":"Save Changes"]})]})]}),y&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-4 rounded-xl bg-emerald-50 text-emerald-700",children:[(0,t.jsx)(u.CheckCircle,{className:"w-5 h-5"}),"Settings saved successfully!"]}),k&&!y&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-4 rounded-xl bg-amber-50 text-amber-700",children:[(0,t.jsx)(o.AlertCircle,{className:"w-5 h-5"}),"You have unsaved changes."]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center",children:(0,t.jsx)(n,{className:"w-5 h-5 text-emerald-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-ink",children:"Commission Rates"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:"Set commission percentages"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Chef Commission Rate (%)"}),(0,t.jsx)("input",{type:"number",value:e.chef_commission_rate,onChange:e=>M("chef_commission_rate",Number(e.target.value)),min:0,max:100,className:"input"}),(0,t.jsxs)("p",{className:"text-xs text-muted mt-1",children:["Platform takes ",e.chef_commission_rate,"% from chef earnings"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Driver Earnings Rate (%)"}),(0,t.jsx)("input",{type:"number",value:e.driver_commission_rate,onChange:e=>M("driver_commission_rate",Number(e.target.value)),min:0,max:100,className:"input"}),(0,t.jsxs)("p",{className:"text-xs text-muted mt-1",children:["Drivers receive ",e.driver_commission_rate,"% of delivery fees"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Tax Rate (%)"}),(0,t.jsx)("input",{type:"number",value:e.tax_rate,onChange:e=>M("tax_rate",Number(e.target.value)),min:0,max:100,step:"0.1",className:"input"}),(0,t.jsxs)("p",{className:"text-xs text-muted mt-1",children:["Applied to order subtotals (currently ",e.tax_rate,"%)"]})]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:(0,t.jsx)(m.MapPin,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-ink",children:"Delivery Settings"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:"Configure delivery fees"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Min Delivery Fee"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted"}),(0,t.jsx)("input",{type:"number",value:(e.min_delivery_fee/100).toFixed(2),onChange:e=>M("min_delivery_fee",Math.round(100*Number(e.target.value))),step:"0.01",className:"input pl-8"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Max Delivery Fee"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted"}),(0,t.jsx)("input",{type:"number",value:(e.max_delivery_fee/100).toFixed(2),onChange:e=>M("max_delivery_fee",Math.round(100*Number(e.target.value))),step:"0.01",className:"input pl-8"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Base Delivery Fee"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted"}),(0,t.jsx)("input",{type:"number",value:(e.base_delivery_fee/100).toFixed(2),onChange:e=>M("base_delivery_fee",Math.round(100*Number(e.target.value))),step:"0.01",className:"input pl-8"})]}),(0,t.jsx)("p",{className:"text-xs text-muted mt-1",children:"Starting fee before distance calculation"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Per KM Rate (cents)"}),(0,t.jsx)("input",{type:"number",value:e.per_km_rate,onChange:e=>M("per_km_rate",Number(e.target.value)),className:"input"}),(0,t.jsxs)("p",{className:"text-xs text-muted mt-1",children:["$",(e.per_km_rate/100).toFixed(2)," per kilometer"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Max Delivery Radius (km)"}),(0,t.jsx)("input",{type:"number",value:e.max_delivery_radius_km,onChange:e=>M("max_delivery_radius_km",Number(e.target.value)),className:"input"}),(0,t.jsx)("p",{className:"text-xs text-muted mt-1",children:"Maximum distance for deliveries"})]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center",children:(0,t.jsx)(c.Clock,{className:"w-5 h-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-ink",children:"Order Settings"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:"Configure order parameters"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Minimum Order Amount"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted"}),(0,t.jsx)("input",{type:"number",value:(e.min_order_amount/100).toFixed(2),onChange:e=>M("min_order_amount",Math.round(100*Number(e.target.value))),step:"0.01",className:"input pl-8"})]}),(0,t.jsxs)("p",{className:"text-xs text-muted mt-1",children:["Customers must order at least $",(e.min_order_amount/100).toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Max Prep Time (minutes)"}),(0,t.jsx)("input",{type:"number",value:e.max_prep_time_minutes,onChange:e=>M("max_prep_time_minutes",Number(e.target.value)),className:"input"}),(0,t.jsx)("p",{className:"text-xs text-muted mt-1",children:"Maximum preparation time allowed for orders"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Order Timeout (minutes)"}),(0,t.jsx)("input",{type:"number",value:e.order_timeout_minutes,onChange:e=>M("order_timeout_minutes",Number(e.target.value)),className:"input"}),(0,t.jsx)("p",{className:"text-xs text-muted mt-1",children:"Time for chef to accept before auto-cancel"})]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center",children:(0,t.jsx)(i.Settings,{className:"w-5 h-5 text-amber-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-ink",children:"Driver Settings"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:"Configure driver parameters"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Minimum Driver Rating"}),(0,t.jsx)("input",{type:"number",value:e.min_driver_rating,onChange:e=>M("min_driver_rating",Number(e.target.value)),min:0,max:5,step:"0.1",className:"input"}),(0,t.jsx)("p",{className:"text-xs text-muted mt-1",children:"Drivers below this rating are deactivated"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-ink mb-1",children:"Max Concurrent Deliveries"}),(0,t.jsx)("input",{type:"number",value:e.max_concurrent_deliveries,onChange:e=>M("max_concurrent_deliveries",Number(e.target.value)),min:1,max:10,className:"input"}),(0,t.jsx)("p",{className:"text-xs text-muted mt-1",children:"Maximum orders a driver can handle at once"})]})]})]}),(0,t.jsxs)("div",{className:"card lg:col-span-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center",children:(0,t.jsx)(d.Shield,{className:"w-5 h-5 text-red-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-ink",children:"Platform Status"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:"Control platform operations"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-ink",children:"Maintenance Mode"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:"Disable all platform operations"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.maintenance_mode,onChange:e=>M("maintenance_mode",e.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-2 peer-focus:ring-accent/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-500"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-ink",children:"New Registrations"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:"Allow new chef/driver signups"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.new_registrations_enabled,onChange:e=>M("new_registrations_enabled",e.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-2 peer-focus:ring-accent/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]}),e.maintenance_mode&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-red-50 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-700",children:[(0,t.jsx)(o.AlertCircle,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-medium",children:"Warning: Maintenance mode is enabled"})]}),(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"The platform is currently in maintenance mode. All operations are disabled for users."})]})]})]})]})}e.s(["default",()=>f],68717)}]);